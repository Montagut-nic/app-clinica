import{c as m}from"./chunk-ZZF4ZVIA.js";import{V as c,_ as l,g as i}from"./chunk-TOHV62XN.js";var d=class s{sb=l(m).client;listActive(){return i(this,null,function*(){return yield this.sb.from("specialties").select("id,nombre").eq("is_custom",!1).eq("is_active",!0).order("nombre",{ascending:!0})})}listSpecialties(){return i(this,null,function*(){let{data:t,error:e}=yield this.sb.from("specialties").select("id, nombre").eq("is_active",!0).order("nombre",{ascending:!0});if(e)throw e;return t})}add(t){return i(this,null,function*(){let{data:e,error:r}=yield this.sb.from("specialties").insert({nombre:t.trim(),is_active:!0}).select("id,nombre").single();return{data:e,error:r}})}addCustom(t){return i(this,null,function*(){let{data:e,error:r}=yield this.sb.from("specialties").upsert({nombre:t.trim(),is_active:!0,is_custom:!0},{onConflict:"nombre"}).select("id,nombre").single();return{data:e,error:r}})}update(t,e=!0,r=!0,n=null){return i(this,null,function*(){if(n===null||n.trim()===""){let{data:a,error:o}=yield this.sb.from("specialties").update({is_active:e,is_custom:r}).eq("id",t).select("id,nombre").single();return{data:a,error:o}}else{let{data:a,error:o}=yield this.sb.from("specialties").update({nombre:n.trim(),is_active:e,is_custom:r}).eq("id",t).select("id,nombre").single();return{data:a,error:o}}})}getById(t){return i(this,null,function*(){let{data:e,error:r}=yield this.sb.from("specialties").select("id,nombre").eq("id",t).single();return{data:e,error:r}})}getByName(t){return i(this,null,function*(){let{data:e,error:r}=yield this.sb.from("specialties").select("id,nombre").eq("nombre",t).single();return{data:e,error:r}})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"})};export{d as a};
