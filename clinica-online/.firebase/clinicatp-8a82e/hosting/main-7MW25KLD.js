import{a as E,b as q,c as Sb,d as hn,e as Cb,f as Tb,g as pn,h,j as _h,k as Ih,n as Db,o as Sh}from"./chunk-7F6XFQYV.js";var vn={};Cb(vn,{__addDisposableResource:()=>lp,__assign:()=>ps,__asyncDelegator:()=>np,__asyncGenerator:()=>vs,__asyncValues:()=>ys,__await:()=>dt,__awaiter:()=>b,__classPrivateFieldGet:()=>sp,__classPrivateFieldIn:()=>cp,__classPrivateFieldSet:()=>ap,__createBinding:()=>ms,__decorate:()=>zh,__disposeResources:()=>up,__esDecorate:()=>Wh,__exportStar:()=>Yh,__extends:()=>Bh,__generator:()=>Jh,__importDefault:()=>ip,__importStar:()=>op,__makeTemplateObject:()=>rp,__metadata:()=>Qh,__param:()=>qh,__propKey:()=>Kh,__read:()=>Nl,__rest:()=>Dt,__rewriteRelativeImportExtension:()=>dp,__runInitializers:()=>Gh,__setFunctionName:()=>Zh,__spread:()=>Xh,__spreadArray:()=>tp,__spreadArrays:()=>ep,__values:()=>gs,default:()=>Hb});function Bh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ml(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Dt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function zh(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function qh(t,e){return function(n,r){e(n,r,t)}}function Wh(t,e,n,r,o,i){function s(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?r.static?t:t.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d,p=!1,f=n.length-1;f>=0;f--){var g={};for(var v in r)g[v]=v==="access"?{}:r[v];for(var v in r.access)g.access[v]=r.access[v];g.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(w||null))};var m=(0,n[f])(a==="accessor"?{get:u.get,set:u.set}:u[c],g);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(d=s(m.get))&&(u.get=d),(d=s(m.set))&&(u.set=d),(d=s(m.init))&&o.unshift(d)}else(d=s(m))&&(a==="field"?o.unshift(d):u[c]=d)}l&&Object.defineProperty(l,r.name,u),p=!0}function Gh(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function Kh(t){return typeof t=="symbol"?t:"".concat(t)}function Zh(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Qh(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function b(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Jh(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Yh(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ms(e,t,n)}function gs(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Xh(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Nl(arguments[e]));return t}function ep(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function tp(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function dt(t){return this instanceof dt?(this.v=t,this):new dt(t)}function vs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(v){return new Promise(function(m,w){i.push([f,v,m,w])>1||c(f,v)})},g&&(o[f]=g(o[f])))}function c(f,g){try{l(r[f](g))}catch(v){p(i[0][3],v)}}function l(f){f.value instanceof dt?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function np(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=t[o]?function(s){return(n=!n)?{value:dt(t[o](s)),done:!1}:i?i(s):s}:i}}function ys(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof gs=="function"?gs(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}function rp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function op(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Rl(t),r=0;r<n.length;r++)n[r]!=="default"&&ms(e,t,n[r]);return Ub(e,t),e}function ip(t){return t&&t.__esModule?t:{default:t}}function sp(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function ap(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function cp(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function lp(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}function up(t){function e(i){t.error=t.hasError?new Vb(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(s){return e(s),o()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function dp(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,i,s){return r?e?".jsx":".js":o&&(!i||!s)?n:o+i+"."+s.toLowerCase()+"js"}):t}var Ml,ps,ms,Ub,Rl,Vb,Hb,Z=Sb(()=>{"use strict";Ml=function(t,e){return Ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Ml(t,e)};ps=function(){return ps=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ps.apply(this,arguments)};ms=Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};Ub=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Rl=function(t){return Rl=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Rl(t)};Vb=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};Hb={__extends:Bh,__assign:ps,__rest:Dt,__decorate:zh,__param:qh,__esDecorate:Wh,__runInitializers:Gh,__propKey:Kh,__setFunctionName:Zh,__metadata:Qh,__awaiter:b,__generator:Jh,__createBinding:ms,__exportStar:Yh,__values:gs,__read:Nl,__spread:Xh,__spreadArrays:ep,__spreadArray:tp,__await:dt,__asyncGenerator:vs,__asyncDelegator:np,__asyncValues:ys,__makeTemplateObject:rp,__importStar:op,__importDefault:ip,__classPrivateFieldGet:sp,__classPrivateFieldSet:ap,__classPrivateFieldIn:cp,__addDisposableResource:lp,__disposeResources:up,__rewriteRelativeImportExtension:dp}});var Sf=hn(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});var _f=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};If.default=_f});var Df=hn(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var Oy=(Z(),pn(vn)),pD=Oy.__importDefault((Sh(),pn(Db))),gD=Oy.__importDefault(Sf()),Cf=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>h(this,null,function*(){var s,a,c,l;let u=null,d=null,p=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){let V=yield i.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=V:d=JSON.parse(V))}let m=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&w&&w.length>1&&(p=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let m=yield i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&m===""?(f=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new gD.default(u)}return{error:u,data:d,count:p,status:f,statusText:g}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};Tf.default=Cf});var Rf=hn(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});var mD=(Z(),pn(vn)),vD=mD.__importDefault(Df()),xf=class extends vD.default{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Mf.default=xf});var bc=hn(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});var yD=(Z(),pn(vn)),wD=yD.__importDefault(Rf()),bD=new RegExp("[,()]"),Nf=class extends wD.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&bD.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Af.default=Nf});var Pf=hn(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});var ED=(Z(),pn(vn)),Ai=ED.__importDefault(bc()),Of=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,n){let{head:r=!1,count:o}=n??{},i=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),o&&this.headers.append("Prefer",`count=${o}`),new Ai.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ai.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ai.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ai.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ai.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};kf.default=Of});var Py=hn(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});var ky=(Z(),pn(vn)),_D=ky.__importDefault(Pf()),ID=ky.__importDefault(bc()),Lf=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){let n=new URL(`${this.url}/${e}`);return new _D.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),l;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{c.searchParams.append(d,p)})):(a="POST",l=n);let u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new ID.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};jf.default=Lf});var Hy=hn(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;var to=(Z(),pn(vn)),Ly=to.__importDefault(Py());xe.PostgrestClient=Ly.default;var jy=to.__importDefault(Pf());xe.PostgrestQueryBuilder=jy.default;var Fy=to.__importDefault(bc());xe.PostgrestFilterBuilder=Fy.default;var $y=to.__importDefault(Rf());xe.PostgrestTransformBuilder=$y.default;var Uy=to.__importDefault(Df());xe.PostgrestBuilder=Uy.default;var Vy=to.__importDefault(Sf());xe.PostgrestError=Vy.default;xe.default={PostgrestClient:Ly.default,PostgrestQueryBuilder:jy.default,PostgrestFilterBuilder:Fy.default,PostgrestTransformBuilder:$y.default,PostgrestBuilder:Uy.default,PostgrestError:Vy.default}});var fl;function Yi(){return fl}function ut(t){let e=fl;return fl=t,e}var Ch=Symbol("NotFound");function dr(t){return t===Ch||t?.name==="\u0275NotFound"}var ge=null,Xi=!1,hl=1,xb=null,Ee=Symbol("SIGNAL");function R(t){let e=ge;return ge=t,e}function rs(){return ge}var fr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hr(t){if(Xi)throw new Error("");if(ge===null)return;ge.consumerOnSignalRead(t);let e=ge.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=ge.recomputing;if(r&&(n=e!==void 0?e.nextProducer:ge.producers,n!==void 0&&n.producer===t)){ge.producersTail=n,n.lastReadVersion=t.version;return}let o=t.consumersTail;if(o!==void 0&&o.consumer===ge&&(!r||Rb(o,ge)))return;let i=gr(ge),s={producer:t,consumer:ge,nextProducer:n,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};ge.producersTail=s,e!==void 0?e.nextProducer=s:ge.producers=s,i&&Mh(t,s)}function Th(){hl++}function os(t){if(!(gr(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hl)){if(!t.producerMustRecompute(t)&&!mo(t)){ns(t);return}t.producerRecomputeValue(t),ns(t)}}function pl(t){if(t.consumers===void 0)return;let e=Xi;Xi=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Mb(r)}}finally{Xi=e}}function gl(){return ge?.consumerAllowSignalWrites!==!1}function Mb(t){t.dirty=!0,pl(t),t.consumerMarkedDirty?.(t)}function ns(t){t.dirty=!1,t.lastCleanEpoch=hl}function pr(t){return t&&Dh(t),R(t)}function Dh(t){t.producersTail=void 0,t.recomputing=!0}function go(t,e){R(e),t&&xh(t)}function xh(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(gr(t))do n=ml(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function mo(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(os(n),r!==n.version))return!0}return!1}function vo(t){if(gr(t)){let e=t.producers;for(;e!==void 0;)e=ml(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Mh(t,e){let n=t.consumersTail,r=gr(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let o=t.producers;o!==void 0;o=o.nextProducer)Mh(o.producer,o)}function ml(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!gr(e)){let i=e.producers;for(;i!==void 0;)i=ml(i)}return n}function gr(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function is(t){xb?.(t)}function Rb(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function ss(t,e){return Object.is(t,e)}function as(t,e){let n=Object.create(Nb);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(os(n),hr(n),n.value===po)throw n.error;return n.value};return r[Ee]=n,is(n),r}var es=Symbol("UNSET"),ts=Symbol("COMPUTING"),po=Symbol("ERRORED"),Nb=q(E({},fr),{value:es,dirty:!0,error:null,equal:ss,kind:"computed",producerMustRecompute(t){return t.value===es||t.value===ts},producerRecomputeValue(t){if(t.value===ts)throw new Error("");let e=t.value;t.value=ts;let n=pr(t),r,o=!1;try{r=t.computation(),R(null),o=e!==es&&e!==po&&r!==po&&t.equal(e,r)}catch(i){r=po,t.error=i}finally{go(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function Ab(){throw new Error}var Rh=Ab;function Nh(t){Rh(t)}function vl(t){Rh=t}var Ob=null;function yl(t,e){let n=Object.create(cs);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Ah(n);return r[Ee]=n,is(n),[r,s=>mr(n,s),s=>wl(n,s)]}function Ah(t){return hr(t),t.value}function mr(t,e){gl()||Nh(t),t.equal(t.value,e)||(t.value=e,kb(t))}function wl(t,e){gl()||Nh(t),mr(t,e(t.value))}var cs=q(E({},fr),{equal:ss,value:void 0,kind:"signal"});function kb(t){t.version++,Th(),pl(t),Ob?.(t)}function N(t){return typeof t=="function"}function vr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ls=vr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(N(r))try{r()}catch(i){e=i instanceof ls?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Oh(i)}catch(s){e=e??[],s instanceof ls?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ls(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Oh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&yo(n,e)}remove(e){let{_finalizers:n}=this;n&&yo(n,e),e instanceof t&&e._removeParent(this)}};ee.EMPTY=(()=>{let t=new ee;return t.closed=!0,t})();var bl=ee.EMPTY;function us(t){return t instanceof ee||t&&"closed"in t&&N(t.remove)&&N(t.add)&&N(t.unsubscribe)}function Oh(t){N(t)?t():t.unsubscribe()}var tt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yr={setTimeout(t,e,...n){let{delegate:r}=yr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=yr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ds(t){yr.setTimeout(()=>{let{onUnhandledError:e}=tt;if(e)e(t);else throw t})}function wo(){}var kh=El("C",void 0,void 0);function Ph(t){return El("E",void 0,t)}function Lh(t){return El("N",t,void 0)}function El(t,e,n){return{kind:t,value:e,error:n}}var gn=null;function wr(t){if(tt.useDeprecatedSynchronousErrorHandling){let e=!gn;if(e&&(gn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=gn;if(gn=null,n)throw r}}else t()}function jh(t){tt.useDeprecatedSynchronousErrorHandling&&gn&&(gn.errorThrown=!0,gn.error=t)}var mn=class extends ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,us(e)&&e.add(this)):this.destination=jb}static create(e,n,r){return new br(e,n,r)}next(e){this.isStopped?Il(Lh(e),this):this._next(e)}error(e){this.isStopped?Il(Ph(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Il(kh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Pb=Function.prototype.bind;function _l(t,e){return Pb.call(t,e)}var Sl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fs(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fs(r)}else fs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fs(n)}}},br=class extends mn{constructor(e,n,r){super();let o;if(N(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&tt.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&_l(e.next,i),error:e.error&&_l(e.error,i),complete:e.complete&&_l(e.complete,i)}):o=e}this.destination=new Sl(o)}};function fs(t){tt.useDeprecatedSynchronousErrorHandling?jh(t):ds(t)}function Lb(t){throw t}function Il(t,e){let{onStoppedNotification:n}=tt;n&&yr.setTimeout(()=>n(t,e))}var jb={closed:!0,next:wo,error:Lb,complete:wo};var Er=typeof Symbol=="function"&&Symbol.observable||"@@observable";function je(t){return t}function Cl(...t){return Tl(t)}function Tl(t){return t.length===0?je:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=$b(n)?n:new br(n,r,o);return wr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Fh(r),new r((o,i)=>{let s=new br({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Er](){return this}pipe(...n){return Tl(n)(this)}toPromise(n){return n=Fh(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Fh(t){var e;return(e=t??tt.Promise)!==null&&e!==void 0?e:Promise}function Fb(t){return t&&N(t.next)&&N(t.error)&&N(t.complete)}function $b(t){return t&&t instanceof mn||Fb(t)&&us(t)}function Dl(t){return N(t?.lift)}function L(t){return e=>{if(Dl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,e,n,r,o){return new xl(t,e,n,r,o)}var xl=class extends mn{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _r(){return L((t,e)=>{let n=null;t._refCount++;let r=j(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ir=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ee;let n=this.getSubject();e.add(this.source.subscribe(j(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ee.EMPTY)}return e}refCount(){return _r()(this)}};var $h=vr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $h}next(n){wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?bl:(this.currentObservers=null,i.push(n),new ee(()=>{this.currentObservers=null,yo(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new hs(e,n),t})(),hs=class extends se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:bl}};var he=class extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Re=new $(t=>t.complete());function Uh(t){return t&&N(t.schedule)}function Vh(t){return t[t.length-1]}function Hh(t){return N(Vh(t))?t.pop():void 0}function Gt(t){return Uh(Vh(t))?t.pop():void 0}Z();var ws=t=>t&&typeof t.length=="number"&&typeof t!="function";function bs(t){return N(t?.then)}function Es(t){return N(t[Er])}function _s(t){return Symbol.asyncIterator&&N(t?.[Symbol.asyncIterator])}function Is(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Bb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ss=Bb();function Cs(t){return N(t?.[Ss])}Z();function Ts(t){return vs(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield dt(n.read());if(o)return yield dt(void 0);yield yield dt(r)}}finally{n.releaseLock()}})}function Ds(t){return N(t?.getReader)}function ae(t){if(t instanceof $)return t;if(t!=null){if(Es(t))return zb(t);if(ws(t))return qb(t);if(bs(t))return Wb(t);if(_s(t))return fp(t);if(Cs(t))return Gb(t);if(Ds(t))return Kb(t)}throw Is(t)}function zb(t){return new $(e=>{let n=t[Er]();if(N(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qb(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Wb(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ds)})}function Gb(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function fp(t){return new $(e=>{Zb(t,e).catch(n=>e.error(n))})}function Kb(t){return fp(Ts(t))}function Zb(t,e){var n,r,o,i;return b(this,void 0,void 0,function*(){try{for(n=ys(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function Ne(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function xs(t,e=0){return L((n,r)=>{n.subscribe(j(r,o=>Ne(r,t,()=>r.next(o),e),()=>Ne(r,t,()=>r.complete(),e),o=>Ne(r,t,()=>r.error(o),e)))})}function Ms(t,e=0){return L((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hp(t,e){return ae(t).pipe(Ms(e),xs(e))}function pp(t,e){return ae(t).pipe(Ms(e),xs(e))}function gp(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function mp(t,e){return new $(n=>{let r;return Ne(n,e,()=>{r=t[Ss](),Ne(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>N(r?.return)&&r.return()})}function Rs(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{Ne(n,e,()=>{let r=t[Symbol.asyncIterator]();Ne(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function vp(t,e){return Rs(Ts(t),e)}function yp(t,e){if(t!=null){if(Es(t))return hp(t,e);if(ws(t))return gp(t,e);if(bs(t))return pp(t,e);if(_s(t))return Rs(t,e);if(Cs(t))return mp(t,e);if(Ds(t))return vp(t,e)}throw Is(t)}function te(t,e){return e?yp(t,e):ae(t)}function M(...t){let e=Gt(t);return te(t,e)}function Sr(t,e){let n=N(t)?t:()=>t,r=o=>o.error(n());return new $(e?o=>e.schedule(r,0,o):r)}function Al(t){return!!t&&(t instanceof $||N(t.lift)&&N(t.subscribe))}var xt=vr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function F(t,e){return L((n,r)=>{let o=0;n.subscribe(j(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:Qb}=Array;function Jb(t,e){return Qb(e)?t(...e):t(e)}function wp(t){return F(e=>Jb(t,e))}var{isArray:Yb}=Array,{getPrototypeOf:Xb,prototype:eE,keys:tE}=Object;function bp(t){if(t.length===1){let e=t[0];if(Yb(e))return{args:e,keys:null};if(nE(e)){let n=tE(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function nE(t){return t&&typeof t=="object"&&Xb(t)===eE}function Ep(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Ns(...t){let e=Gt(t),n=Hh(t),{args:r,keys:o}=bp(t);if(r.length===0)return te([],e);let i=new $(rE(r,e,o?s=>Ep(o,s):je));return n?i.pipe(wp(n)):i}function rE(t,e,n=je){return r=>{_p(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)_p(e,()=>{let l=te(t[c],e),u=!1;l.subscribe(j(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function _p(t,e,n){t?Ne(n,t,e):e()}function Ip(t,e,n,r,o,i,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&e.complete()},f=v=>l<r?g(v):c.push(v),g=v=>{i&&e.next(v),l++;let m=!1;ae(n(v,u++)).subscribe(j(e,w=>{o?.(w),i?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){let w=c.shift();s?Ne(e,s,()=>g(w)):g(w)}p()}catch(w){e.error(w)}}))};return t.subscribe(j(e,f,()=>{d=!0,p()})),()=>{a?.()}}function re(t,e,n=1/0){return N(e)?re((r,o)=>F((i,s)=>e(r,i,o,s))(ae(t(r,o))),n):(typeof e=="number"&&(n=e),L((r,o)=>Ip(r,o,t,n)))}function Sp(t=1/0){return re(je,t)}function Cp(){return Sp(1)}function Cr(...t){return Cp()(te(t,Gt(t)))}function bo(t){return new $(e=>{ae(t()).subscribe(e)})}function qe(t,e){return L((n,r)=>{let o=0;n.subscribe(j(r,i=>t.call(e,i,o++)&&r.next(i)))})}function Kt(t){return L((e,n)=>{let r=null,o=!1,i;r=e.subscribe(j(n,void 0,void 0,s=>{i=ae(t(s,Kt(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Tp(t,e,n,r,o){return(i,s)=>{let a=n,c=e,l=0;i.subscribe(j(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Tr(t,e){return N(e)?re(t,e,1):re(t,1)}function Zt(t){return L((e,n)=>{let r=!1;e.subscribe(j(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Mt(t){return t<=0?()=>Re:L((e,n)=>{let r=0;e.subscribe(j(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function As(t=oE){return L((e,n)=>{let r=!1;e.subscribe(j(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function oE(){return new xt}function Eo(t){return L((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Rt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qe((o,i)=>t(o,i,r)):je,Mt(1),n?Zt(e):As(()=>new xt))}function Dr(t){return t<=0?()=>Re:L((e,n)=>{let r=[];e.subscribe(j(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Ol(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qe((o,i)=>t(o,i,r)):je,Dr(1),n?Zt(e):As(()=>new xt))}function kl(t,e){return L(Tp(t,e,arguments.length>=2,!0))}function Pl(...t){let e=Gt(t);return L((n,r)=>{(e?Cr(t,n,e):Cr(t,n)).subscribe(r)})}function Ae(t,e){return L((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(j(r,c=>{o?.unsubscribe();let l=0,u=i++;ae(t(c,u)).subscribe(o=j(r,d=>r.next(e?e(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Os(t){return L((e,n)=>{ae(t).subscribe(j(n,()=>n.complete(),wo)),!n.closed&&e.subscribe(n)})}function ce(t,e,n){let r=N(t)||e||n?{next:t,error:e,complete:n}:t;return r?L((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(j(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):je}function Dp(t){let e=R(null);try{return t()}finally{R(e)}}var Fs="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(e,n){super(Co(e,n)),this.code=e}};function iE(t){return`NG0${Math.abs(t)}`}function Co(t,e){return`${iE(t)}${e?": "+e:""}`}var To=globalThis;function B(t){for(let e in t)if(t[e]===B)return e;throw Error("")}function Qt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Qt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Gl(t,e){return t?e?`${t} ${e}`:t:e||""}var sE=B({__forward_ref__:B});function $s(t){return t.__forward_ref__=$s,t.toString=function(){return Qt(this())},t}function Oe(t){return Kl(t)?t():t}function Kl(t){return typeof t=="function"&&t.hasOwnProperty(sE)&&t.__forward_ref__===$s}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Do(t){return aE(t,Us)}function Zl(t){return Do(t)!==null}function aE(t,e){return t.hasOwnProperty(e)&&t[e]||null}function cE(t){let e=t?.[Us]??null;return e||null}function jl(t){return t&&t.hasOwnProperty(Ps)?t[Ps]:null}var Us=B({\u0275prov:B}),Ps=B({\u0275inj:B}),D=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ql(t){return t&&!!t.\u0275providers}var Jl=B({\u0275cmp:B}),Yl=B({\u0275dir:B}),Xl=B({\u0275pipe:B}),eu=B({\u0275mod:B}),Io=B({\u0275fac:B}),Sn=B({__NG_ELEMENT_ID__:B}),xp=B({__NG_ENV_ID__:B});function xo(t){return typeof t=="string"?t:t==null?"":String(t)}function Rp(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xo(t)}var Np=B({ngErrorCode:B}),lE=B({ngErrorMessage:B}),uE=B({ngTokenPath:B});function tu(t,e){return Ap("",-200,e)}function Vs(t,e){throw new C(-201,!1)}function Ap(t,e,n){let r=new C(e,t);return r[Np]=e,r[lE]=t,n&&(r[uE]=n),r}function dE(t){return t[Np]}var Fl;function Op(){return Fl}function Fe(t){let e=Fl;return Fl=t,e}function nu(t,e,n){let r=Do(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Vs(t,"Injector")}var fE={},yn=fE,hE="__NG_DI_FLAG__",$l=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=wn(n)||0;try{return this.injector.get(e,r&8?null:yn,r)}catch(o){if(dr(o))return o;throw o}}};function pE(t,e=0){let n=Yi();if(n===void 0)throw new C(-203,!1);if(n===null)return nu(t,void 0,e);{let r=gE(e),o=n.retrieve(t,r);if(dr(o)){if(r.optional)return null;throw o}return o}}function k(t,e=0){return(Op()||pE)(Oe(t),e)}function y(t,e){return k(t,wn(e))}function wn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gE(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Ul(t){let e=[];for(let n=0;n<t.length;n++){let r=Oe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=mE(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(k(o,i))}else e.push(k(r))}return e}function mE(t){return t[hE]}function bn(t,e){let n=t.hasOwnProperty(Io);return n?t[Io]:null}function Hs(t,e){t.forEach(n=>Array.isArray(n)?Hs(n,e):e(n))}function ru(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Cn={},En=[],At=new D(""),ou=new D("",-1),iu=new D(""),So=class{get(e,n=yn){if(n===yn){let o=Ap("",-201);throw o.name="\u0275NotFound",o}return n}};function su(t){return t[eu]||null}function Yt(t){return t[Jl]||null}function au(t){return t[Yl]||null}function kp(t){return t[Xl]||null}function Tn(t){return{\u0275providers:t}}function Pp(t){return Tn([{provide:At,multi:!0,useValue:t}])}function Lp(...t){return{\u0275providers:cu(!0,t),\u0275fromNgModule:!0}}function cu(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Hs(e,s=>{let a=s;Ls(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&jp(o,i),n}function jp(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];lu(o,i=>{e(i,r)})}}function Ls(t,e,n,r){if(t=Oe(t),!t)return!1;let o=null,i=jl(t),s=!i&&Yt(t);if(!i&&!s){let c=t.ngModule;if(i=jl(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ls(l,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Hs(i.imports,u=>{Ls(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&jp(l,e)}if(!a){let l=bn(o)||(()=>new o);e({provide:o,useFactory:l,deps:En},o),e({provide:iu,useValue:o,multi:!0},o),e({provide:At,useValue:()=>k(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=t;lu(c,u=>{e(u,l)})}}else return!1;return o!==t&&t.providers!==void 0}function lu(t,e){for(let n of t)Ql(n)&&(n=n.\u0275providers),Array.isArray(n)?lu(n,e):e(n)}var vE=B({provide:String,useValue:B});function Fp(t){return t!==null&&typeof t=="object"&&vE in t}function yE(t){return!!(t&&t.useExisting)}function wE(t){return!!(t&&t.useFactory)}function js(t){return typeof t=="function"}var Ro=new D(""),ks={},Mp={},Ll;function No(){return Ll===void 0&&(Ll=new So),Ll}var le=class{},_n=class extends le{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Hl(e,s=>this.processProvider(s)),this.records.set(ou,xr(void 0,this)),o.has("environment")&&this.records.set(le,xr(void 0,this));let i=this.records.get(Ro);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(iu,En,{self:!0}))}retrieve(e,n){let r=wn(n)||0;try{return this.get(e,yn,r)}catch(o){if(dr(o))return o;throw o}}destroy(){_o(this),this._destroyed=!0;let e=R(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),R(e)}}onDestroy(e){return _o(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){_o(this);let n=ut(this),r=Fe(void 0),o;try{return e()}finally{ut(n),Fe(r)}}get(e,n=yn,r){if(_o(this),e.hasOwnProperty(xp))return e[xp](this);let o=wn(r),i,s=ut(this),a=Fe(void 0);try{if(!(o&4)){let l=this.records.get(e);if(l===void 0){let u=SE(e)&&Do(e);u&&this.injectableDefInScope(u)?l=xr(Vl(e),ks):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,o)}let c=o&2?No():this.parent;return n=o&8&&n===yn?null:n,c.get(e,n)}catch(c){let l=dE(c);throw l===-200||l===-201?new C(l,null):c}finally{Fe(a),ut(s)}}resolveInjectorInitializers(){let e=R(null),n=ut(this),r=Fe(void 0),o;try{let i=this.get(At,En,{self:!0});for(let s of i)s()}finally{ut(n),Fe(r),R(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Qt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Oe(e);let n=js(e)?e:Oe(e&&e.provide),r=EE(e);if(!js(e)&&e.multi===!0){let o=this.records.get(n);o||(o=xr(void 0,ks,!0),o.factory=()=>Ul(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=R(null);try{if(n.value===Mp)throw tu(Qt(e));return n.value===ks&&(n.value=Mp,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&IE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{R(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Oe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vl(t){let e=Do(t),n=e!==null?e.factory:bn(t);if(n!==null)return n;if(t instanceof D)throw new C(204,!1);if(t instanceof Function)return bE(t);throw new C(204,!1)}function bE(t){if(t.length>0)throw new C(204,!1);let n=cE(t);return n!==null?()=>n.factory(t):()=>new t}function EE(t){if(Fp(t))return xr(void 0,t.useValue);{let e=$p(t);return xr(e,ks)}}function $p(t,e,n){let r;if(js(t)){let o=Oe(t);return bn(o)||Vl(o)}else if(Fp(t))r=()=>Oe(t.useValue);else if(wE(t))r=()=>t.useFactory(...Ul(t.deps||[]));else if(yE(t))r=(o,i)=>k(Oe(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Oe(t&&(t.useClass||t.provide));if(_E(t))r=()=>new o(...Ul(t.deps));else return bn(o)||Vl(o)}return r}function _o(t){if(t.destroyed)throw new C(205,!1)}function xr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _E(t){return!!t.deps}function IE(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function SE(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Hl(t,e){for(let n of t)Array.isArray(n)?Hl(n,e):n&&Ql(n)?Hl(n.\u0275providers,e):e(n)}function _e(t,e){let n;t instanceof _n?(_o(t),n=t):n=new $l(t);let r,o=ut(n),i=Fe(void 0);try{return e()}finally{ut(o),Fe(i)}}function Up(){return Op()!==void 0||Yi()!=null}var nt=0,O=1,P=2,pe=3,We=4,Ge=5,Ao=6,Mr=7,me=8,Xt=9,pt=10,ue=11,Rr=12,uu=13,Dn=14,Ke=15,xn=16,Mn=17,Rn=18,Oo=19,du=20,Nt=21,Bs=22,ko=23,$e=24,zs=25,Po=26,ve=27,Vp=1;var en=7,Lo=8,jo=9,Ie=10;function gt(t){return Array.isArray(t)&&typeof t[Vp]=="object"}function rt(t){return Array.isArray(t)&&t[Vp]===!0}function fu(t){return(t.flags&4)!==0}function Nn(t){return t.componentOffset>-1}function qs(t){return(t.flags&1)===1}function An(t){return!!t.template}function Nr(t){return(t[P]&512)!==0}function On(t){return(t[P]&256)===256}var Hp="svg",Bp="math";function Ze(t){for(;Array.isArray(t);)t=t[nt];return t}function zp(t,e){return Ze(e[t])}function mt(t,e){return Ze(e[t.index])}function Fo(t,e){return t.data[e]}function ot(t,e){let n=e[t];return gt(n)?n:n[nt]}function Ws(t){return(t[P]&128)===128}function qp(t){return rt(t[pe])}function tn(t,e){return e==null?null:t[e]}function hu(t){t[Mn]=0}function pu(t){t[P]&1024||(t[P]|=1024,Ws(t)&&Uo(t))}function Wp(t,e){for(;t>0;)e=e[Dn],t--;return e}function $o(t){return!!(t[P]&9216||t[$e]?.dirty)}function Gs(t){t[pt].changeDetectionScheduler?.notify(8),t[P]&64&&(t[P]|=1024),$o(t)&&Uo(t)}function Uo(t){t[pt].changeDetectionScheduler?.notify(0);let e=Jt(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!Ws(e)));)e=Jt(e)}function gu(t,e){if(On(t))throw new C(911,!1);t[Nt]===null&&(t[Nt]=[]),t[Nt].push(e)}function Gp(t,e){if(t[Nt]===null)return;let n=t[Nt].indexOf(e);n!==-1&&t[Nt].splice(n,1)}function Jt(t){let e=t[pe];return rt(e)?e[pe]:e}function Kp(t){return t[Mr]??=[]}function Zp(t){return t.cleanup??=[]}var U={lFrame:ag(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bl=!1;function Qp(){return U.lFrame.elementDepthCount}function Jp(){U.lFrame.elementDepthCount++}function mu(){U.lFrame.elementDepthCount--}function Yp(){return U.bindingsEnabled}function Xp(){return U.skipHydrationRootTNode!==null}function vu(t){return U.skipHydrationRootTNode===t}function yu(){U.skipHydrationRootTNode=null}function X(){return U.lFrame.lView}function nn(){return U.lFrame.tView}function Ue(){let t=wu();for(;t!==null&&t.type===64;)t=t.parent;return t}function wu(){return U.lFrame.currentTNode}function eg(){let t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ar(t,e){let n=U.lFrame;n.currentTNode=t,n.isParent=e}function bu(){return U.lFrame.isParent}function tg(){U.lFrame.isParent=!1}function Eu(){return Bl}function _u(t){let e=Bl;return Bl=t,e}function ng(t){return U.lFrame.bindingIndex=t}function Ks(){return U.lFrame.bindingIndex++}function rg(){return U.lFrame.inI18n}function og(t,e){let n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zs(e)}function ig(){return U.lFrame.currentDirectiveIndex}function Zs(t){U.lFrame.currentDirectiveIndex=t}function Iu(t){U.lFrame.currentQueryIndex=t}function CE(t){let e=t[O];return e.type===2?e.declTNode:e.type===1?t[Ge]:null}function Su(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=CE(i),o===null||(i=i[Dn],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=U.lFrame=sg();return r.currentTNode=e,r.lView=t,!0}function Qs(t){let e=sg(),n=t[O];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sg(){let t=U.lFrame,e=t===null?null:t.child;return e===null?ag(t):e}function ag(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function cg(){let t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Cu=cg;function Js(){let t=cg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lg(t){return(U.lFrame.contextLView=Wp(t,U.lFrame.contextLView))[me]}function Ys(){return U.lFrame.selectedIndex}function rn(t){U.lFrame.selectedIndex=t}function ug(){let t=U.lFrame;return Fo(t.tView,t.selectedIndex)}function dg(){return U.lFrame.currentNamespace}var fg=!0;function Xs(){return fg}function ea(t){fg=t}function zl(t,e=null,n=null,r){let o=Tu(t,e,n,r);return o.resolveInjectorInitializers(),o}function Tu(t,e=null,n=null,r,o=new Set){let i=[n||En,Lp(t)];return r=r||(typeof t=="object"?void 0:Qt(t)),new _n(i,e||No(),r||null,o)}var ft=class t{static THROW_IF_NOT_FOUND=yn;static NULL=new So;static create(e,n){if(Array.isArray(e))return zl({name:""},n,e,"");{let r=e.name??"";return zl({name:r},e.parent,e.providers,r)}}static \u0275prov=T({token:t,providedIn:"any",factory:()=>k(ou)});static __NG_ELEMENT_ID__=-1},de=new D(""),kn=(()=>{class t{static __NG_ELEMENT_ID__=TE;static __NG_ENV_ID__=n=>n}return t})(),ql=class extends kn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return On(this._lView)}onDestroy(e){let n=this._lView;return gu(n,e),()=>Gp(n,e)}};function TE(){return new ql(X())}var ht=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ve=new D("",{providedIn:"root",factory:()=>{let t=y(le),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(ht),e.handleError(n))}}}),hg={provide:At,useValue:()=>void y(ht),multi:!0},DE=new D("",{providedIn:"root",factory:()=>{let t=y(de).defaultView;if(!t)return;let e=y(Ve),n=i=>{e(i.reason),i.preventDefault()},r=i=>{i.error?e(i.error):e(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),y(kn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Du(){return Tn([Pp(()=>void y(DE))])}function it(t,e){let[n,r,o]=yl(t,e?.equal),i=n,s=i[Ee];return i.set=r,i.update=o,i.asReadonly=pg.bind(i),i}function pg(){let t=this[Ee];if(t.readonlyFn===void 0){let e=()=>this();e[Ee]=t,t.readonlyFn=e}return t.readonlyFn}var In=class{},Vo=new D("",{providedIn:"root",factory:()=>!1});var xu=new D(""),Mu=new D(""),Ot=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new he(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new $(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ho(...t){}var Ru=(()=>{class t{static \u0275prov=T({token:t,providedIn:"root",factory:()=>new Wl})}return t})(),Wl=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function ba(t){return{toString:t}.toString()}function VE(t){return typeof t=="function"}var ia=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zg(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ko=(()=>{let t=()=>qg;return t.ngInherit=!0,t})();function qg(t){return t.type.prototype.ngOnChanges&&(t.setInput=BE),HE}function HE(){let t=Gg(this),e=t?.current;if(e){let n=t.previous;if(n===Cn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function BE(t,e,n,r,o){let i=this.declaredInputs[r],s=Gg(t)||zE(t,{previous:Cn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new ia(l&&l.currentValue,n,c===Cn),zg(t,e,o,n)}var Wg="__ngSimpleChanges__";function Gg(t){return t[Wg]||null}function zE(t,e){return t[Wg]=e}var gg=[];var G=function(t,e=null,n){for(let r=0;r<gg.length;r++){let o=gg[r];o(t,e,n)}};function qE(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=qg(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function WE(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function na(t,e,n){Kg(t,e,3,n)}function ra(t,e,n,r){(t[P]&3)===n&&Kg(t,e,n,r)}function Nu(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function Kg(t,e,n,r){let o=r!==void 0?t[Mn]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Mn]+=65536),(a<i||i==-1)&&(GE(t,n,e,c),t[Mn]=(t[Mn]&4294901760)+c+2),c++}function mg(t,e){G(4,t,e);let n=R(null);try{e.call(t)}finally{R(n),G(5,t,e)}}function GE(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[P]>>14<t[Mn]>>16&&(t[P]&3)===e&&(t[P]+=16384,mg(a,i)):mg(a,i)}var kr=-1,qo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function KE(t){return(t.flags&8)!==0}function ZE(t){return(t.flags&16)!==0}function QE(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];JE(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function Zg(t){return t===3||t===4||t===6}function JE(t){return t.charCodeAt(0)===64}function Ea(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?vg(t,n,o,null,e[++r]):vg(t,n,o,null,null))}}return t}function vg(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function Qg(t){return t!==kr}function sa(t){return t&32767}function YE(t){return t>>16}function aa(t,e){let n=YE(t),r=e;for(;n>0;)r=r[Dn],n--;return r}var Lu=!0;function yg(t){let e=Lu;return Lu=t,e}var XE=256,Jg=XE-1,Yg=5,e_=0,vt={};function t_(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sn)&&(r=n[Sn]),r==null&&(r=n[Sn]=e_++);let o=r&Jg,i=1<<o;e.data[t+(o>>Yg)]|=i}function Xg(t,e){let n=em(t,e);if(n!==-1)return n;let r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,Au(r.data,t),Au(e,null),Au(r.blueprint,null));let o=Ju(t,e),i=t.injectorIndex;if(Qg(o)){let s=sa(o),a=aa(o,e),c=a[O].data;for(let l=0;l<8;l++)e[i+l]=a[s+l]|c[s+l]}return e[i+8]=o,i}function Au(t,e){t.push(0,0,0,0,0,0,0,0,e)}function em(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ju(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=im(o),r===null)return kr;if(n++,o=o[Dn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return kr}function n_(t,e,n){t_(t,e,n)}function r_(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(Zg(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===e)return n[o+1];o=o+2}}}return null}function tm(t,e,n){if(n&8||t!==void 0)return t;Vs(e,"NodeInjector")}function nm(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[Xt],i=Fe(void 0);try{return o?o.get(e,r,n&8):nu(e,r,n&8)}finally{Fe(i)}}return tm(r,e,n)}function rm(t,e,n,r=0,o){if(t!==null){if(e[P]&2048&&!(r&2)){let s=c_(t,e,n,r,vt);if(s!==vt)return s}let i=om(t,e,n,r,vt);if(i!==vt)return i}return nm(e,n,r,o)}function om(t,e,n,r,o){let i=s_(n);if(typeof i=="function"){if(!Su(e,t,r))return r&1?tm(o,n,r):nm(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Vs(n);else return s}finally{Cu()}}else if(typeof i=="number"){let s=null,a=em(t,e),c=kr,l=r&1?e[Ke][Ge]:null;for((a===-1||r&4)&&(c=a===-1?Ju(t,e):e[a+8],c===kr||!bg(r,!1)?a=-1:(s=e[O],a=sa(c),e=aa(c,e)));a!==-1;){let u=e[O];if(wg(i,a,u.data)){let d=o_(a,e,n,s,r,l);if(d!==vt)return d}c=e[a+8],c!==kr&&bg(r,e[O].data[a+8]===l)&&wg(i,a,e)?(s=u,a=sa(c),e=aa(c,e)):a=-1}}return o}function o_(t,e,n,r,o,i){let s=e[O],a=s.data[t+8],c=r==null?Nn(a)&&Lu:r!=s&&(a.type&3)!==0,l=o&1&&i===a,u=i_(a,s,n,c,l);return u!==null?ju(e,s,u,a,o):vt}function i_(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,l=t.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:l;for(let f=d;f<p;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(o){let f=s[c];if(f&&An(f)&&f.type===n)return c}return null}function ju(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof qo){let a=i;if(a.resolving){let f=Rp(s[n]);throw tu(f)}let c=yg(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?Fe(a.injectImpl):null,p=Su(t,r,0);try{i=t[n]=a.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&qE(n,s[n],e)}finally{d!==null&&Fe(d),yg(c),a.resolving=!1,Cu()}}return i}function s_(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Sn)?t[Sn]:void 0;return typeof e=="number"?e>=0?e&Jg:a_:e}function wg(t,e,n){let r=1<<t;return!!(n[e+(t>>Yg)]&r)}function bg(t,e){return!(t&2)&&!(t&1&&e)}var Pn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rm(this._tNode,this._lView,e,wn(r),n)}};function a_(){return new Pn(Ue(),X())}function _a(t){return ba(()=>{let e=t.prototype.constructor,n=e[Io]||Fu(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[Io]||Fu(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Fu(t){return Kl(t)?()=>{let e=Fu(Oe(t));return e&&e()}:bn(t)}function c_(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[P]&2048&&!Nr(s);){let a=om(i,s,n,r|2,vt);if(a!==vt)return a;let c=i.parent;if(!c){let l=s[du];if(l){let u=l.get(n,vt,r);if(u!==vt)return u}c=im(s),s=s[Dn]}i=c}return o}function im(t){let e=t[O],n=e.type;return n===2?e.declTNode:n===1?t[Ge]:null}function Ia(t){return r_(Ue(),t)}function l_(){return Yu(Ue(),X())}function Yu(t,e){return new Sa(mt(t,e))}var Sa=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=l_}return t})();function sm(t){return(t.flags&128)===128}var Xu=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Xu||{}),am=new Map,u_=0;function d_(){return u_++}function f_(t){am.set(t[Oo],t)}function $u(t){am.delete(t[Oo])}var Eg="__ngContext__";function Pr(t,e){gt(e)?(t[Eg]=e[Oo],f_(e)):t[Eg]=e}function cm(t){return um(t[Rr])}function lm(t){return um(t[We])}function um(t){for(;t!==null&&!rt(t);)t=t[We];return t}var Uu;function ed(t){Uu=t}function dm(){if(Uu!==void 0)return Uu;if(typeof document<"u")return document;throw new C(210,!1)}var Ca=new D("",{providedIn:"root",factory:()=>h_}),h_="ng",Ta=new D(""),$r=new D("",{providedIn:"platform",factory:()=>"unknown"});var Da=new D("",{providedIn:"root",factory:()=>dm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var p_="h",g_="b";var fm=!1,hm=new D("",{providedIn:"root",factory:()=>fm});var m_=(t,e,n,r)=>{};function v_(t,e,n,r){m_(t,e,n,r)}function td(t){return(t.flags&32)===32}var y_=()=>null;function pm(t,e,n=!1){return y_(t,e,n)}function gm(t,e){let n=t.contentQueries;if(n!==null){let r=R(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];Iu(i),a.contentQueries(2,e[s],s)}}}finally{R(r)}}}function Vu(t,e,n){Iu(0);let r=R(null);try{e(t,n)}finally{R(r)}}function mm(t,e,n){if(fu(e)){let r=R(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{R(r)}}}var kt=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(kt||{});var ta;function w_(){if(ta===void 0&&(ta=null,To.trustedTypes))try{ta=To.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ta}function _g(t){return w_()?.createScriptURL(t)||t}var ca=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fs})`}};function nd(t){return t instanceof ca?t.changingThisBreaksApplicationSecurity:t}function rd(t,e){let n=vm(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Fs})`)}return n===e}function vm(t){return t instanceof ca&&t.getTypeName()||null}var b_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ym(t){return t=String(t),t.match(b_)?t:"unsafe:"+t}var xa=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(xa||{});function wm(t){let e=Em();return e?e.sanitize(xa.URL,t)||"":rd(t,"URL")?nd(t):ym(xo(t))}function bm(t){let e=Em();if(e)return _g(e.sanitize(xa.RESOURCE_URL,t)||"");if(rd(t,"ResourceURL"))return _g(nd(t));throw new C(904,!1)}function E_(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?bm:wm}function od(t,e,n){return E_(e,n)(t)}function Em(){let t=X();return t&&t[pt].sanitizer}function _m(t){return t instanceof Function?t():t}function __(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var Im="ng-template";function I_(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&__(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(id(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function id(t){return t.type===4&&t.value!==Im}function S_(t,e,n){let r=t.type===4&&!n?Im:t.value;return e===r}function C_(t,e,n){let r=4,o=t.attrs,i=o!==null?x_(o):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!st(r)&&!st(c))return!1;if(s&&st(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!S_(t,c,n)||c===""&&e.length===1){if(st(r))return!1;s=!0}}else if(r&8){if(o===null||!I_(t,o,c,n)){if(st(r))return!1;s=!0}}else{let l=e[++a],u=T_(c,o,id(t),n);if(u===-1){if(st(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(st(r))return!1;s=!0}}}}return st(r)||s}function st(t){return(t&1)===0}function T_(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return M_(e,t)}function D_(t,e,n=!1){for(let r=0;r<e.length;r++)if(C_(t,e[r],n))return!0;return!1}function x_(t){for(let e=0;e<t.length;e++){let n=t[e];if(Zg(n))return e}return t.length}function M_(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ig(t,e){return t?":not("+e.trim()+")":e}function R_(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!st(s)&&(e+=Ig(i,o),o=""),r=s,i=i||!st(r);n++}return o!==""&&(e+=Ig(i,o)),e}function N_(t){return t.map(R_).join(",")}function A_(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!st(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var Fn={};function O_(t,e){return t.createText(e)}function k_(t,e,n){t.setValue(e,n)}function Sm(t,e,n){return t.createElement(e,n)}function la(t,e,n,r,o){t.insertBefore(e,n,r,o)}function Cm(t,e,n){t.appendChild(e,n)}function Sg(t,e,n,r,o){r!==null?la(t,e,n,r,o):Cm(t,e,n)}function P_(t,e,n,r){t.removeChild(null,e,n,r)}function L_(t,e,n){t.setAttribute(e,"style",n)}function j_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Tm(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&QE(t,e,r),o!==null&&j_(t,e,o),i!==null&&L_(t,e,i)}function sd(t,e,n,r,o,i,s,a,c,l,u){let d=ve+r,p=d+o,f=F_(d,p),g=typeof l=="function"?l():l;return f[O]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function F_(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fn);return n}function $_(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=sd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ad(t,e,n,r,o,i,s,a,c,l,u){let d=e.blueprint.slice();return d[nt]=o,d[P]=r|4|128|8|64|1024,(l!==null||t&&t[P]&2048)&&(d[P]|=2048),hu(d),d[pe]=d[Dn]=t,d[me]=n,d[pt]=s||t&&t[pt],d[ue]=a||t&&t[ue],d[Xt]=c||t&&t[Xt]||null,d[Ge]=i,d[Oo]=d_(),d[Ao]=u,d[du]=l,d[Ke]=e.type==2?t[Ke]:d,d}function U_(t,e,n){let r=mt(e,t),o=$_(n),i=t[pt].rendererFactory,s=cd(t,ad(t,o,null,Dm(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function Dm(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function xm(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function cd(t,e){return t[Rr]?t[uu][We]=e:t[Rr]=e,t[uu]=e,e}function ld(t=1){Mm(nn(),X(),Ys()+t,!1)}function Mm(t,e,n,r){if(!r)if((e[P]&3)===3){let i=t.preOrderCheckHooks;i!==null&&na(e,i,n)}else{let i=t.preOrderHooks;i!==null&&ra(e,i,0,n)}rn(n)}var Ma=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ma||{});function Hu(t,e,n,r){let o=R(null);try{let[i,s,a]=t.inputs[n],c=null;(s&Ma.SignalBased)!==0&&(c=e[i][Ee]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,i):zg(e,c,i,r)}finally{R(o)}}var $n=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})($n||{}),V_;function ud(t,e){return V_(t,e)}var Lr=new Set,dd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(dd||{}),Zo=new D(""),Cg=new Set;function Un(t){Cg.has(t)||(Cg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Rm=!1,Bu=class extends se{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Up()&&(this.destroyRef=y(kn,{optional:!0})??void 0,this.pendingTasks=y(Ot,{optional:!0})??void 0)}emit(e){let n=R(null);try{super.next(e)}finally{R(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof ee&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Se=Bu;function Nm(t){let e,n;function r(){t=Ho;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Tg(t){return queueMicrotask(()=>t()),()=>{t=Ho}}var fd="isAngularZone",ua=fd+"_ID",H_=0,oe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Se(!1);onMicrotaskEmpty=new Se(!1);onStable=new Se(!1);onError=new Se(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Rm}=e;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,q_(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fd)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,B_,Ho,Ho);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},B_={};function hd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function z_(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Nm(()=>{t.callbackScheduled=!1,zu(t),t.isCheckStableRunning=!0,hd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),zu(t)}function q_(t){let e=()=>{z_(t)},n=H_++;t._inner=t._inner.fork({name:"angular",properties:{[fd]:!0,[ua]:n,[ua+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(W_(c))return r.invokeTask(i,s,a,c);try{return Dg(t),r.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),xg(t)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return Dg(t),r.invoke(i,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!G_(c)&&e(),xg(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,zu(t),hd(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function zu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Dg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xg(t){t._nesting--,hd(t)}var da=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Se;onMicrotaskEmpty=new Se;onStable=new Se;onError=new Se;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function W_(t){return Am(t,"__ignore_ng_zone__")}function G_(t){return Am(t,"__scheduler_tick__")}function Am(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Om=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}return t})();var K_=new D("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function km(t,e){let n=t.get(K_);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function Z_(t,e){for(let[n,r]of e)km(t,r.animateFns)}function Mg(t,e,n,r){let o=t?.[Po]?.enter;e!==null&&o&&o.has(n.index)&&Z_(r,o)}function Or(t,e,n,r,o,i,s,a){if(o!=null){let c,l=!1;rt(o)?c=o:gt(o)&&(l=!0,o=o[nt]);let u=Ze(o);t===0&&r!==null?(Mg(a,r,i,n),s==null?Cm(e,r,u):la(e,r,u,s||null,!0)):t===1&&r!==null?(Mg(a,r,i,n),la(e,r,u,s||null,!0)):t===2?Rg(a,i,n,d=>{P_(e,u,l,d)}):t===3&&Rg(a,i,n,()=>{e.destroyNode(u)}),c!=null&&cI(e,t,n,c,i,r,s)}}function Q_(t,e){Pm(t,e),e[nt]=null,e[Ge]=null}function J_(t,e,n,r,o,i){r[nt]=o,r[Ge]=e,Ra(t,r,n,1,o,i)}function Pm(t,e){e[pt].changeDetectionScheduler?.notify(9),Ra(t,e,e[ue],2,null,null)}function Y_(t){let e=t[Rr];if(!e)return Ou(t[O],t);for(;e;){let n=null;if(gt(e))n=e[Rr];else{let r=e[Ie];r&&(n=r)}if(!n){for(;e&&!e[We]&&e!==t;)gt(e)&&Ou(e[O],e),e=e[pe];e===null&&(e=t),gt(e)&&Ou(e[O],e),n=e&&e[We]}e=n}}function pd(t,e){let n=t[jo],r=n.indexOf(e);n.splice(r,1)}function gd(t,e){if(On(e))return;let n=e[ue];n.destroyNode&&Ra(t,e,n,3,null,null),Y_(e)}function Ou(t,e){if(On(e))return;let n=R(null);try{e[P]&=-129,e[P]|=256,e[$e]&&vo(e[$e]),tI(t,e),eI(t,e),e[O].type===1&&e[ue].destroy();let r=e[xn];if(r!==null&&rt(e[pe])){r!==e[pe]&&pd(r,e);let o=e[Rn];o!==null&&o.detachView(t)}$u(e)}finally{R(n)}}function Rg(t,e,n,r){let o=t?.[Po];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);t&&Lr.add(t),km(n,()=>{if(o.leave&&o.leave.has(e.index)){let s=o.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}o.running=Promise.allSettled(a),X_(t,r)}else t&&Lr.delete(t),r(!1)})}function X_(t,e){let n=t[Po]?.running;if(n){n.then(()=>{t[Po].running=void 0,Lr.delete(t),e(!0)});return}e(!1)}function eI(t,e){let n=t.cleanup,r=e[Mr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Mr]=null);let o=e[Nt];if(o!==null){e[Nt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[ko];if(i!==null){e[ko]=null;for(let s of i)s.destroy()}}function tI(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof qo)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];G(4,a,c);try{c.call(a)}finally{G(5,a,c)}}else{G(4,o,i);try{i.call(o)}finally{G(5,o,i)}}}}}function nI(t,e,n){return rI(t,e.parent,n)}function rI(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[nt];if(Nn(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===kt.None||o===kt.Emulated)return null}return mt(r,n)}function oI(t,e,n){return sI(t,e,n)}function iI(t,e,n){return t.type&40?mt(t,n):null}var sI=iI,Ng;function md(t,e,n,r){let o=nI(t,r,e),i=e[ue],s=r.parent||e[Ge],a=oI(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Sg(i,o,n[c],a,!1);else Sg(i,o,n,a,!1);Ng!==void 0&&Ng(i,r,e,n,o)}function Bo(t,e){if(e!==null){let n=e.type;if(n&3)return mt(e,t);if(n&4)return qu(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Bo(t,r);{let o=t[e.index];return rt(o)?qu(-1,o):Ze(o)}}else{if(n&128)return Bo(t,e.next);if(n&32)return ud(e,t)()||Ze(t[e.index]);{let r=Lm(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Jt(t[Ke]);return Bo(o,r)}else return Bo(t,e.next)}}}return null}function Lm(t,e){if(e!==null){let r=t[Ke][Ge],o=e.projection;return r.projection[o]}return null}function qu(t,e){let n=Ie+t+1;if(n<e.length){let r=e[n],o=r[O].firstChild;if(o!==null)return Bo(r,o)}return e[en]}function vd(t,e,n,r,o,i,s){for(;n!=null;){let a=r[Xt];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&e===0&&(c&&Pr(Ze(c),r),n.flags|=2),!td(n))if(l&8)vd(t,e,n.child,r,o,i,!1),Or(e,t,a,o,c,n,i,r);else if(l&32){let u=ud(n,r),d;for(;d=u();)Or(e,t,a,o,d,n,i,r);Or(e,t,a,o,c,n,i,r)}else l&16?aI(t,e,r,n,o,i):Or(e,t,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function Ra(t,e,n,r,o,i){vd(n,r,t.firstChild,e,o,i,!1)}function aI(t,e,n,r,o,i){let s=n[Ke],c=s[Ge].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Or(e,t,n[Xt],o,u,r,i,n)}else{let l=c,u=s[pe];sm(r)&&(l.flags|=128),vd(t,e,l,u,o,i,!0)}}function cI(t,e,n,r,o,i,s){let a=r[en],c=Ze(r);a!==c&&Or(e,t,n,i,a,o,s);for(let l=Ie;l<r.length;l++){let u=r[l];Ra(u[O],u,t,e,i,a)}}function jm(t,e,n,r,o){let i=Ys(),s=r&2;try{rn(-1),s&&e.length>ve&&Mm(t,e,ve,!1),G(s?2:0,o,n),n(r,o)}finally{rn(i),G(s?3:1,o,n)}}function Fm(t,e,n){fI(t,e,n),(n.flags&64)===64&&hI(t,e,n)}function yd(t,e,n=mt){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function lI(t,e,n,r){let i=r.get(hm,fm)||n===kt.ShadowDom,s=t.selectRootElement(e,i);return uI(s),s}function uI(t){dI(t)}var dI=()=>null;function fI(t,e,n){let r=n.directiveStart,o=n.directiveEnd;Nn(n)&&U_(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Xg(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],c=ju(e,t,s,n);if(Pr(c,e),i!==null&&yI(e,s-r,c,a,n,i),An(a)){let l=ot(n.index,e);l[me]=ju(e,t,s,n)}}}function hI(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=ig();try{rn(i);for(let a=r;a<o;a++){let c=t.data[a],l=e[a];Zs(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&pI(c,l)}}finally{rn(-1),Zs(s)}}function pI(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function gI(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];D_(e,i.selectors,!1)&&(r??=[],An(i)?r.unshift(i):r.push(i))}return r}function mI(t,e,n,r,o,i){let s=mt(t,e);vI(e[ue],s,i,t.value,n,r,o)}function vI(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?xo(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function yI(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Hu(r,n,c,l)}}function $m(t,e,n,r,o){let i=ve+n,s=e[O],a=o(s,e,t,r,n);e[i]=a,Ar(t,!0);let c=t.type===2;return c?(Tm(e[ue],a,t),(Qp()===0||qs(t))&&Pr(a,e),Jp()):Pr(a,e),Xs()&&(!c||!td(t))&&md(s,e,a,t),t}function Um(t){let e=t;return bu()?tg():(e=e.parent,Ar(e,!1)),e}function wI(t,e){let n=t[Xt];if(!n)return;let r;try{r=n.get(Ve,null)}catch{r=null}r?.(e)}function Vm(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];Hu(d,n[l],u,o),a=!0}if(i)for(let c of i){let l=n[c],u=e.data[c];Hu(u,l,r,o),a=!0}return a}function bI(t,e){let n=ot(e,t),r=n[O];EI(r,n);let o=n[nt];o!==null&&n[Ao]===null&&(n[Ao]=pm(o,n[Xt])),G(18),wd(r,n,n[me]),G(19,n[me])}function EI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wd(t,e,n){Qs(e);try{let r=t.viewQuery;r!==null&&Vu(1,r,n);let o=t.template;o!==null&&jm(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rn]?.finishViewCreation(t),t.staticContentQueries&&gm(t,e),t.staticViewQueries&&Vu(2,t.viewQuery,n);let i=t.components;i!==null&&_I(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,Js()}}function _I(t,e){for(let n=0;n<e.length;n++)bI(t,e[n])}function II(t,e,n,r){let o=R(null);try{let i=e.tView,a=t[P]&4096?4096:16,c=ad(t,i,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[xn]=l;let u=t[Rn];return u!==null&&(c[Rn]=u.createEmbeddedView(i)),wd(i,c,n),c}finally{R(o)}}function Wu(t,e){return!e||e.firstChild===null||sm(t)}function Wo(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(Ze(i)),rt(i)&&Hm(i,r);let s=n.type;if(s&8)Wo(t,e,n.child,r);else if(s&32){let a=ud(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Lm(e,n);if(Array.isArray(a))r.push(...a);else{let c=Jt(e[Ke]);Wo(c[O],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Hm(t,e){for(let n=Ie;n<t.length;n++){let r=t[n],o=r[O].firstChild;o!==null&&Wo(r[O],r,o,e)}t[en]!==t[nt]&&e.push(t[en])}function Bm(t){if(t[zs]!==null){for(let e of t[zs])e.impl.addSequence(e);t[zs].length=0}}var zm=[];function SI(t){return t[$e]??CI(t)}function CI(t){let e=zm.pop()??Object.create(DI);return e.lView=t,e}function TI(t){t.lView[$e]!==t&&(t.lView=null,zm.push(t))}var DI=q(E({},fr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Uo(t.lView)},consumerOnSignalRead(){this.lView[$e]=this}});function xI(t){let e=t[$e]??Object.create(MI);return e.lView=t,e}var MI=q(E({},fr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Jt(t.lView);for(;e&&!qm(e[O]);)e=Jt(e);e&&pu(e)},consumerOnSignalRead(){this.lView[$e]=this}});function qm(t){return t.type!==2}function Wm(t){if(t[ko]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ko])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[P]&8192)}}var RI=100;function Gm(t,e=0){let r=t[pt].rendererFactory,o=!1;o||r.begin?.();try{NI(t,e)}finally{o||r.end?.()}}function NI(t,e){let n=Eu();try{_u(!0),Gu(t,e);let r=0;for(;$o(t);){if(r===RI)throw new C(103,!1);r++,Gu(t,1)}}finally{_u(n)}}function AI(t,e,n,r){if(On(e))return;let o=e[P],i=!1,s=!1;Qs(e);let a=!0,c=null,l=null;i||(qm(t)?(l=SI(e),c=pr(l)):rs()===null?(a=!1,l=xI(e),c=pr(l)):e[$e]&&(vo(e[$e]),e[$e]=null));try{hu(e),ng(t.bindingStartIndex),n!==null&&jm(t,e,n,2,r);let u=(o&3)===3;if(!i)if(u){let f=t.preOrderCheckHooks;f!==null&&na(e,f,null)}else{let f=t.preOrderHooks;f!==null&&ra(e,f,0,null),Nu(e,0)}if(s||OI(e),Wm(e),Km(e,0),t.contentQueries!==null&&gm(t,e),!i)if(u){let f=t.contentCheckHooks;f!==null&&na(e,f)}else{let f=t.contentHooks;f!==null&&ra(e,f,1),Nu(e,1)}PI(t,e);let d=t.components;d!==null&&Qm(e,d,0);let p=t.viewQuery;if(p!==null&&Vu(2,p,r),!i)if(u){let f=t.viewCheckHooks;f!==null&&na(e,f)}else{let f=t.viewHooks;f!==null&&ra(e,f,2),Nu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bs]){for(let f of e[Bs])f();e[Bs]=null}i||(Bm(e),e[P]&=-73)}catch(u){throw i||Uo(e),u}finally{l!==null&&(go(l,c),a&&TI(l)),Js()}}function Km(t,e){for(let n=cm(t);n!==null;n=lm(n))for(let r=Ie;r<n.length;r++){let o=n[r];Zm(o,e)}}function OI(t){for(let e=cm(t);e!==null;e=lm(e)){if(!(e[P]&2))continue;let n=e[jo];for(let r=0;r<n.length;r++){let o=n[r];pu(o)}}}function kI(t,e,n){G(18);let r=ot(e,t);Zm(r,n),G(19,r[me])}function Zm(t,e){Ws(t)&&Gu(t,e)}function Gu(t,e){let r=t[O],o=t[P],i=t[$e],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&mo(i)),s||=!1,i&&(i.dirty=!1),t[P]&=-9217,s)AI(r,t,r.template,t[me]);else if(o&8192){let a=R(null);try{Wm(t),Km(t,1);let c=r.components;c!==null&&Qm(t,c,1),Bm(t)}finally{R(a)}}}function Qm(t,e,n){for(let r=0;r<e.length;r++)kI(t,e[r],n)}function PI(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)rn(~o);else{let i=o,s=n[++r],a=n[++r];og(s,i);let c=e[i];G(24,c),a(2,c),G(25,c)}}}finally{rn(-1)}}function bd(t,e){let n=Eu()?64:1088;for(t[pt].changeDetectionScheduler?.notify(e);t;){t[P]|=n;let r=Jt(t);if(Nr(t)&&!r)return t;t=r}return null}function Jm(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function LI(t,e){let n=Ie+e;if(n<t.length)return t[n]}function Ym(t,e,n,r=!0){let o=e[O];if(FI(o,e,t,n),r){let s=qu(n,t),a=e[ue],c=a.parentNode(t[en]);c!==null&&J_(o,t[Ge],a,e,c,s)}let i=e[Ao];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function jI(t,e){let n=fa(t,e);return n!==void 0&&gd(n[O],n),n}function fa(t,e){if(t.length<=Ie)return;let n=Ie+e,r=t[n];if(r){let o=r[xn];o!==null&&o!==t&&pd(o,r),e>0&&(t[n-1][We]=r[We]);let i=Mo(t,Ie+e);Q_(r[O],r);let s=i[Rn];s!==null&&s.detachView(i[O]),r[pe]=null,r[We]=null,r[P]&=-129}return r}function FI(t,e,n,r){let o=Ie+r,i=n.length;r>0&&(n[o-1][We]=e),r<i-Ie?(e[We]=n[o],ru(n,Ie+r,e)):(n.push(e),e[We]=null),e[pe]=n;let s=e[xn];s!==null&&n!==s&&Xm(s,e);let a=e[Rn];a!==null&&a.insertView(t),Gs(e),e[P]|=128}function Xm(t,e){let n=t[jo],r=e[pe];if(gt(r))t[P]|=2;else{let o=r[pe][Ke];e[Ke]!==o&&(t[P]|=2)}n===null?t[jo]=[e]:n.push(e)}var Ln=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[O];return Wo(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[me]}set context(e){this._lView[me]=e}get destroyed(){return On(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pe];if(rt(e)){let n=e[Lo],r=n?n.indexOf(this):-1;r>-1&&(fa(e,r),Mo(n,r))}this._attachedToViewContainer=!1}gd(this._lView[O],this._lView)}onDestroy(e){gu(this._lView,e)}markForCheck(){bd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){Gs(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,Gm(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Nr(this._lView),n=this._lView[xn];n!==null&&!e&&pd(n,this._lView),Pm(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e;let n=Nr(this._lView),r=this._lView[xn];r!==null&&!n&&Xm(r,this._lView),Gs(this._lView)}};function Na(t,e,n,r,o){let i=t.data[e];if(i===null)i=$I(t,e,n,r,o),rg()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=eg();i.injectorIndex=s===null?-1:s.injectorIndex}return Ar(i,!0),i}function $I(t,e,n,r,o){let i=wu(),s=bu(),a=s?i:i&&i.parent,c=t.data[e]=VI(t,a,n,e,r,o);return UI(t,c,i,s),c}function UI(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function VI(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return Xp()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var XP=new RegExp(`^(\\d+)*(${g_}|${p_})*(.*)`);var HI=()=>null,BI=()=>null;function Ag(t,e){return HI(t,e)}function zI(t,e,n){return BI(t,e,n)}var ev=class{},Aa=class{},Ku=class{resolveComponentFactory(e){throw new C(917,!1)}},Qo=class{static NULL=new Ku},jn=class{},Ed=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>qI()}return t})();function qI(){let t=X(),e=Ue(),n=ot(e.index,t);return(gt(n)?n:t)[ue]}var tv=(()=>{class t{static \u0275prov=T({token:t,providedIn:"root",factory:()=>null})}return t})();var oa={},Zu=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,oa,r);return o!==oa||n===oa?o:this.parentInjector.get(e,n,r)}};function ha(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=Gl(o,a);else if(i==2){let c=a,l=e[++s];r=Gl(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function on(t,e=0){let n=X();if(n===null)return k(t,e);let r=Ue();return rm(r,n,Oe(t),e)}function WI(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}ZI(t,e,n,a,i,c,l)}i!==null&&r!==null&&GI(n,r,i)}function GI(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new C(-301,!1);r.push(e[o],i)}}function KI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZI(t,e,n,r,o,i,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&An(f)&&(c=!0,KI(t,n,p)),n_(Xg(n,e),t,f.type)}tS(n,t.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=xm(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(n.mergedAttrs=Ea(n.mergedAttrs,f.hostAttrs),JI(t,n,e,d,f),eS(d,f,o),s!==null&&s.has(f)){let[v,m]=s.get(f);n.directiveToIndex.set(f.type,[d,v+n.directiveStart,m+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}QI(t,n,i)}function QI(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))Og(0,e,o,r),Og(1,e,o,r),Pg(e,r,!1);else{let i=n.get(o);kg(0,e,i,r),kg(1,e,i,r),Pg(e,r,!0)}}}function Og(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),nv(e,i)}}function kg(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),nv(e,s)}}function nv(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Pg(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||id(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function JI(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=bn(o.type,!0)),s=new qo(i,An(o),on,null);t.blueprint[r]=s,n[r]=s,YI(t,e,r,xm(t,n,o.hostVars,Fn),o)}function YI(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;XI(s)!=a&&s.push(a),s.push(n,r,i)}}function XI(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function eS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;An(e)&&(n[""]=t)}}function tS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function rv(t,e,n,r,o,i,s,a){let c=e[O],l=c.consts,u=tn(l,s),d=Na(c,t,n,r,u);return i&&WI(c,e,d,tn(l,a),o),d.mergedAttrs=Ea(d.mergedAttrs,d.attrs),d.attrs!==null&&ha(d,d.attrs,!1),d.mergedAttrs!==null&&ha(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function ov(t,e){WE(t,e),fu(e)&&t.queries.elementEnd(e)}function nS(t,e,n,r,o,i){let s=e.consts,a=tn(s,o),c=Na(e,t,n,r,a);if(c.mergedAttrs=Ea(c.mergedAttrs,c.attrs),i!=null){let l=tn(s,i);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&ha(c,c.attrs,!1),c.mergedAttrs!==null&&ha(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function _d(t,e,n){if(n===Fn)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ku(t,e,n){return function r(o){let i=Nn(t)?ot(t.index,e):e;bd(i,5);let s=e[me],a=Lg(e,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Lg(e,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Lg(t,e,n,r){let o=R(null);try{return G(6,e,n),n(r)!==!1}catch(i){return wI(t,i),!1}finally{G(7,e,n),R(o)}}function rS(t,e,n,r,o,i,s,a){let c=qs(t),l=!1,u=null;if(!r&&c&&(u=iS(e,n,i,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=mt(t,n),p=r?r(d):d;v_(n,p,i,a);let f=o.listen(p,i,a);if(!oS(i)){let g=r?v=>r(Ze(v[t.index])):t.index;iv(g,e,n,i,a,f,!1)}}return l}function oS(t){return t.startsWith("animation")||t.startsWith("transition")}function iS(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[Mr],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function iv(t,e,n,r,o,i,s){let a=e.firstCreatePass?Zp(e):null,c=Kp(n),l=c.length;c.push(o,i),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function jg(t,e,n,r,o,i){let s=e[n],a=e[O],l=a.data[n].outputs[r],d=s[l].subscribe(i);iv(t.index,a,e,o,i,d,!0)}var Qu=Symbol("BINDING");var pa=class extends Qo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Yt(e);return new jr(n,this.ngModule)}};function sS(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&Ma.SignalBased)!==0};return o&&(i.transform=o),i})}function aS(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function cS(t,e,n){let r=e instanceof le?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Zu(n,r):n}function lS(t){let e=t.get(jn,null);if(e===null)throw new C(407,!1);let n=t.get(tv,null),r=t.get(In,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function uS(t,e){let n=sv(t);return Sm(e,n,n==="svg"?Hp:n==="math"?Bp:null)}function sv(t){return(t.selectors[0][0]||"div").toLowerCase()}var jr=class extends Aa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=aS(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=N_(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,s){G(22);let a=R(null);try{let c=this.componentDef,l=dS(r,c,s,i),u=cS(c,o||this.ngModule,e),d=lS(u),p=d.rendererFactory.createRenderer(null,c),f=r?lI(p,r,c.encapsulation,u):uS(c,p),g=s?.some(Fg)||i?.some(w=>typeof w!="function"&&w.bindings.some(Fg)),v=ad(null,l,null,512|Dm(c),null,null,d,p,u,null,pm(f,u,!0));v[ve]=f,Qs(v);let m=null;try{let w=rv(ve,v,2,"#host",()=>l.directiveRegistry,!0,0);Tm(p,f,w),Pr(f,v),Fm(l,v,w),mm(l,w,v),ov(l,w),n!==void 0&&hS(w,this.ngContentSelectors,n),m=ot(w.index,v),v[me]=m[me],wd(l,v,null)}catch(w){throw m!==null&&$u(m),$u(v),w}finally{G(23),Js()}return new ga(this.componentType,v,!!g)}finally{R(a)}}};function dS(t,e,n,r){let o=t?["ng-version","20.3.7"]:A_(e.selectors[0]),i=null,s=null,a=0;if(n)for(let u of n)a+=u[Qu].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){a+=p[Qu].requiredVars;let f=u+1;p.create&&(p.targetIdx=f,(i??=[]).push(p)),p.update&&(p.targetIdx=f,(s??=[]).push(p))}}let c=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=au(d);c.push(p)}return sd(0,null,fS(i,s),1,a,c,null,null,null,[o],null)}function fS(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Fg(t){let e=t[Qu].kind;return e==="input"||e==="twoWay"}var ga=class extends ev{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Fo(n[O],ve),this.location=Yu(this._tNode,n),this.instance=ot(this._tNode.index,n)[me],this.hostView=this.changeDetectorRef=new Ln(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=Vm(r,o[O],o,e,n);this.previousInputValues.set(e,n);let s=ot(r.index,o);bd(s,1)}get injector(){return new Pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hS(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Oa=(()=>{class t{static __NG_ELEMENT_ID__=pS}return t})();function pS(){let t=Ue();return mS(t,X())}var gS=Oa,av=class extends gS{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Yu(this._hostTNode,this._hostLView)}get injector(){return new Pn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ju(this._hostTNode,this._hostLView);if(Qg(e)){let n=aa(e,this._hostLView),r=sa(e),o=n[O].data[r+8];return new Pn(o,n)}else return new Pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=$g(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ie}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Ag(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Wu(this._hostTNode,s)),a}createComponent(e,n,r,o,i,s,a){let c=e&&!VE(e),l;if(c)l=n;else{let m=n||{};l=m.index,r=m.injector,o=m.projectableNodes,i=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}let u=c?e:new jr(Yt(e)),d=r||this.parentInjector;if(!i&&u.ngModule==null){let w=(c?d:this.parentInjector).get(le,null);w&&(i=w)}let p=Yt(u.componentType??{}),f=Ag(this._lContainer,p?.id??null),g=f?.firstChild??null,v=u.create(d,o,g,i,s,a);return this.insertImpl(v.hostView,l,Wu(this._hostTNode,f)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(qp(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[pe],l=new av(c,c[Ge],c[pe]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return Ym(s,o,i,r),e.attachToViewContainerRef(),ru(Pu(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=$g(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=fa(this._lContainer,n);r&&(Mo(Pu(this._lContainer),n),gd(r[O],r))}detach(e){let n=this._adjustIndex(e,-1),r=fa(this._lContainer,n);return r&&Mo(Pu(this._lContainer),n)!=null?new Ln(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function $g(t){return t[Lo]}function Pu(t){return t[Lo]||(t[Lo]=[])}function mS(t,e){let n,r=e[t.index];return rt(r)?n=r:(n=Jm(r,e,null,t),e[t.index]=n,cd(e,n)),yS(n,e,t,r),new av(n,t,e)}function vS(t,e){let n=t[ue],r=n.createComment(""),o=mt(e,t),i=n.parentNode(o);return la(n,i,r,n.nextSibling(o),!1),r}var yS=ES,wS=()=>!1;function bS(t,e,n){return wS(t,e,n)}function ES(t,e,n,r){if(t[en])return;let o;n.type&8?o=Ze(r):o=vS(e,n),t[en]=o}var Fr=class{},ka=class{};var ma=class extends Fr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new pa(this);constructor(e,n,r,o=!0){super(),this.ngModuleType=e,this._parent=n;let i=su(e);this._bootstrapComponents=_m(i.bootstrap),this._r3Injector=Tu(e,n,[{provide:Fr,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver},...r],Qt(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},va=class extends ka{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ma(this.moduleType,e,[])}};var Go=class extends Fr{injector;componentFactoryResolver=new pa(this);instance=null;constructor(e){super();let n=new _n([...e.providers,{provide:Fr,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],e.parent||No(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Jo(t,e,n=null){return new Go({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var _S=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=cu(!1,n.type),o=r.length>0?Jo([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:t,providedIn:"environment",factory:()=>new t(k(le))})}return t})();function Ce(t){return ba(()=>{let e=cv(t),n=q(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Xu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(_S).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||kt.Emulated,styles:t.styles||En,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Un("NgStandalone"),lv(n);let r=t.dependencies;return n.directiveDefs=Ug(r,IS),n.pipeDefs=Ug(r,kp),n.id=TS(n),n})}function IS(t){return Yt(t)||au(t)}function SS(t,e){if(t==null)return Cn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Ma.None,c=null),n[i]=[r,a,c],e[i]=s}return n}function CS(t){if(t==null)return Cn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Yo(t){return ba(()=>{let e=cv(t);return lv(e),e})}function cv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Cn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||En,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:SS(t.inputs,e),outputs:CS(t.outputs),debugInfo:null}}function lv(t){t.features?.forEach(e=>e(t))}function Ug(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function TS(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function DS(t,e,n,r,o,i,s,a){if(n.firstCreatePass){t.mergedAttrs=Ea(t.mergedAttrs,t.attrs);let u=t.tView=sd(2,t,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),u.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Ar(t,!1);let c=xS(n,e,t,r);Xs()&&md(n,e,c,t),Pr(c,e);let l=Jm(c,e,c,t);e[r+ve]=l,cd(e,l),bS(l,t,e)}function uv(t,e,n,r,o,i,s,a,c,l,u){let d=n+ve,p;if(e.firstCreatePass){if(p=Na(e,d,4,s||null,a||null),l!=null){let f=tn(e.consts,l);p.localNames=[];for(let g=0;g<f.length;g+=2)p.localNames.push(f[g],-1)}}else p=e.data[d];return DS(p,t,e,n,r,o,i,c),l!=null&&yd(t,p,u),p}var xS=MS;function MS(t,e,n,r){return ea(!0),e[ue].createComment("")}var Id=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Sd=new D("");function Xo(t){return!!t&&typeof t.then=="function"}function dv(t){return!!t&&typeof t.subscribe=="function"}var fv=new D("");var Cd=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=y(fv,{optional:!0})??[];injector=y(ft);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=_e(this.injector,o);if(Xo(i))n.push(i);else if(dv(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pa=new D("");function hv(){vl(()=>{let t="";throw new C(600,t)})}function pv(t){return t.isBoundToModule}var RS=10;var Vn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(Ve);afterRenderManager=y(Om);zonelessEnabled=y(Vo);rootEffectScheduler=y(Ru);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new se;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=y(Ot);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(F(n=>!n))}constructor(){y(Zo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=y(le);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=ft.NULL){return this._injector.get(oe).run(()=>{G(10);let s=n instanceof Aa;if(!this._injector.get(Cd).done){let g="";throw new C(405,g)}let c;s?c=n:c=this._injector.get(Qo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=pv(c)?void 0:this._injector.get(Fr),u=r||c.selector,d=c.create(o,[],u,l),p=d.location.nativeElement,f=d.injector.get(Sd,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),zo(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),G(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){G(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(dd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new C(101,!1);let n=R(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,R(n),this.afterTick.next(),G(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(jn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<RS;)G(14),this.synchronizeOnce(),G(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!$o(o))continue;let i=r&&!this.zonelessEnabled?0:1;Gm(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>$o(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;zo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Pa,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zo(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function La(t,e,n,r){let o=X(),i=Ks();if(_d(o,i,e)){let s=nn(),a=ug();mI(a,o,t,e,n,r)}return La}var sL=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Td(t,e,n,r,o,i,s,a){Un("NgControlFlow");let c=X(),l=nn(),u=tn(l.consts,i);return uv(c,l,t,e,n,r,o,u,256,s,a),Dd}function Dd(t,e,n,r,o,i,s,a){Un("NgControlFlow");let c=X(),l=nn(),u=tn(l.consts,i);return uv(c,l,t,e,n,r,o,u,512,s,a),Dd}function xd(t,e){Un("NgControlFlow");let n=X(),r=Ks(),o=n[r]!==Fn?n[r]:-1,i=o!==-1?Vg(n,ve+o):void 0,s=0;if(_d(n,r,t)){let a=R(null);try{if(i!==void 0&&jI(i,s),t!==-1){let c=ve+t,l=Vg(n,c),u=NS(n[O],c),d=zI(l,u,n),p=II(n,u,e,{dehydratedView:d});Ym(l,p,s,Wu(u,d))}}finally{R(a)}}else if(i!==void 0){let a=LI(i,s);a!==void 0&&(a[me]=e)}}function Vg(t,e){return t[e]}function NS(t,e){return Fo(t,e)}function Hg(t,e,n,r,o){Vm(e,t,n,o?"class":"style",r)}function ke(t,e,n,r){let o=X(),i=o[O],s=t+ve,a=i.firstCreatePass?rv(s,o,2,e,gI,Yp(),n,r):i.data[s];if($m(a,o,t,e,gv),qs(a)){let c=o[O];Fm(c,o,a),mm(c,a,o)}return r!=null&&yd(o,a),ke}function at(){let t=nn(),e=Ue(),n=Um(e);return t.firstCreatePass&&ov(t,n),vu(n)&&yu(),mu(),n.classesWithoutHost!=null&&KE(n)&&Hg(t,n,X(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&ZE(n)&&Hg(t,n,X(),n.stylesWithoutHost,!1),at}function Qe(t,e,n,r){return ke(t,e,n,r),at(),Qe}function ye(t,e,n,r){let o=X(),i=o[O],s=t+ve,a=i.firstCreatePass?nS(s,i,2,e,n,r):i.data[s];return $m(a,o,t,e,gv),r!=null&&yd(o,a),ye}function Pe(){let t=Ue(),e=Um(t);return vu(e)&&yu(),mu(),Pe}function Hn(t,e,n,r){return ye(t,e,n,r),Pe(),Hn}var gv=(t,e,n,r,o)=>(ea(!0),Sm(e[ue],r,dg()));var ei="en-US";var AS=ei;function mv(t){typeof t=="string"&&(AS=t.toLowerCase().replace(/_/g,"-"))}function ja(t,e,n){let r=X(),o=nn(),i=Ue();return OS(o,r,r[ue],i,t,e,n),ja}function OS(t,e,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=ku(r,e,i),rS(r,t,e,s,n,o,i,c)&&(a=!1)),a){let l=r.outputs?.[o],u=r.hostDirectiveOutputs?.[o];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],f=u[d+1];c??=ku(r,e,i),jg(r,e,p,f,o,c)}if(l&&l.length)for(let d of l)c??=ku(r,e,i),jg(r,e,d,o,o,c)}}function Md(t=1){return lg(t)}function Te(t,e=""){let n=X(),r=nn(),o=t+ve,i=r.firstCreatePass?Na(r,o,1,e,null):r.data[o],s=kS(r,n,i,e,t);n[o]=s,Xs()&&md(r,n,s,i),Ar(i,!1)}var kS=(t,e,n,r,o)=>(ea(!0),O_(e[ue],r));function PS(t,e,n,r=""){return _d(t,Ks(),n)?e+xo(n)+r:Fn}function Fa(t,e,n){let r=X(),o=PS(r,t,e,n);return o!==Fn&&LS(r,Ys(),o),Fa}function LS(t,e,n){let r=zp(e,t);k_(t[ue],r,n)}var ya=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Rd=(()=>{class t{compileModuleSync(n){return new va(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=su(n),i=_m(o.declarations).reduce((s,a)=>{let c=Yt(a);return c&&s.push(new jr(c)),s},[]);return new ya(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var jS=(()=>{class t{zone=y(oe);changeDetectionScheduler=y(In);applicationRef=y(Vn);applicationErrorHandler=y(Ve);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vv=new D("",{factory:()=>!1});function Nd({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new oe(q(E({},Od()),{scheduleInRootZone:n})),[{provide:oe,useFactory:t},{provide:At,multi:!0,useFactory:()=>{let r=y(jS,{optional:!0});return()=>r.initialize()}},{provide:At,multi:!0,useFactory:()=>{let r=y(FS);return()=>{r.initialize()}}},e===!0?{provide:xu,useValue:!0}:[],{provide:Mu,useValue:n??Rm},{provide:Ve,useFactory:()=>{let r=y(oe),o=y(le),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(ht),i.handleError(s))})}}}]}function Ad(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Nd({ngZoneFactory:()=>{let o=Od(t);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&Un("NgZone_CoalesceEvent"),new oe(o)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Tn([{provide:vv,useValue:!0},{provide:Vo,useValue:!1},r])}function Od(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FS=(()=>{class t{subscription=new ee;initialized=!1;zone=y(oe);pendingTasks=y(Ot);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yv=(()=>{class t{applicationErrorHandler=y(Ve);appRef=y(Vn);taskService=y(Ot);ngZone=y(oe);zonelessEnabled=y(Vo);tracing=y(Zo,{optional:!0});disableScheduling=y(xu,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ee;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ua):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(Mu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof da||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Tg:Nm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ua+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Tg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $S(){return typeof $localize<"u"&&$localize.locale||ei}var kd=new D("",{providedIn:"root",factory:()=>y(kd,{optional:!0,skipSelf:!0})||$S()});function Pt(t){return Dp(t)}function $a(t,e){return as(t,e?.equal)}var wv=class{[Ee];constructor(e){this[Ee]=e}destroy(){this[Ee].destroy()}};var Ev=Symbol("InputSignalNode#UNSET"),XS=q(E({},cs),{transformFn:void 0,applyValueToInputSignal(t,e){mr(t,e)}});function _v(t,e){let n=Object.create(XS);n.value=t,n.transformFn=e?.transform;function r(){if(hr(n),n.value===Ev){let o=null;throw new C(-950,o)}return n.value}return r[Ee]=n,r}var Va=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Ia(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},eC=new D("");eC.__NG_ELEMENT_ID__=t=>{let e=Ue();if(e===null)throw new C(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new C(204,!1)};function bv(t,e){return _v(t,e)}function tC(t){return _v(Ev,t)}var Iv=(bv.required=tC,bv);var Pd=new D(""),nC=new D("");function ti(t){return!t.moduleRef}function rC(t){let e=ti(t)?t.r3Injector:t.moduleRef.injector,n=e.get(oe);return n.run(()=>{ti(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ve),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),ti(t)){let i=()=>e.destroy(),s=t.platformInjector.get(Pd);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Pd);s.add(i),t.moduleRef.onDestroy(()=>{zo(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return iC(r,n,()=>{let i=e.get(Ot),s=i.add(),a=e.get(Cd);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(kd,ei);if(mv(c||ei),!e.get(nC,!0))return ti(t)?e.get(Vn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ti(t)){let u=e.get(Vn);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return oC?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var oC;function iC(t,e,n){try{let r=n();return Xo(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ua=null;function sC(t=[],e){return ft.create({name:e,providers:[{provide:Ro,useValue:"platform"},{provide:Pd,useValue:new Set([()=>Ua=null])},...t]})}function aC(t=[]){if(Ua)return Ua;let e=sC(t);return Ua=e,hv(),cC(e),e}function cC(t){let e=t.get(Ta,null);_e(t,()=>{e?.forEach(n=>n())})}var jd=(()=>{class t{static __NG_ELEMENT_ID__=lC}return t})();function lC(t){return uC(Ue(),X(),(t&16)===16)}function uC(t,e,n){if(Nn(t)&&!n){let r=ot(t.index,e);return new Ln(r,r)}else if(t.type&175){let r=e[Ke];return new Ln(r,e)}return null}function Sv(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:o}=t;G(8);try{let i=o?.injector??aC(r),s=[Nd({}),{provide:In,useExisting:yv},hg,...n||[]],a=new Go({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return rC({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{G(9)}}function Ha(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Dv=null;function Lt(){return Dv}function Fd(t){Dv??=t}var ni=class{},$d=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>y(xv),providedIn:"platform"})}return t})();var xv=(()=>{class t extends $d{_location;_history;_doc=y(de);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lt().getBaseHref(this._doc)}onPopState(n){let r=Lt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Lt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Mv(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Cv(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function sn(t){return t&&t[0]!=="?"?`?${t}`:t}var Vr=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>y(Nv),providedIn:"root"})}return t})(),Rv=new D(""),Nv=(()=>{class t extends Vr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Mv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+sn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+sn(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+sn(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(k($d),k(Rv,8))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hr=(()=>{class t{_subject=new se;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=hC(Cv(Tv(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+sn(r))}normalize(n){return t.stripTrailingSlash(fC(this._basePath,Tv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+sn(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+sn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=sn;static joinWithSlash=Mv;static stripTrailingSlash=Cv;static \u0275fac=function(r){return new(r||t)(k(Vr))};static \u0275prov=T({token:t,factory:()=>dC(),providedIn:"root"})}return t})();function dC(){return new Hr(k(Vr))}function fC(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Tv(t){return t.replace(/\/index.html$/,"")}function hC(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ud(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var ri=class{};var Av="browser";var oi=class{_doc;constructor(e){this._doc=e}manager},Ba=(()=>{class t extends oi{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(k(de))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),qa=new D(""),qd=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof Ba));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof Ba);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(k(qa),k(oe))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Vd="ng-app-id";function Ov(t){for(let e of t)e.remove()}function kv(t,e){let n=e.createElement("style");return n.textContent=t,n}function gC(t,e,n,r){let o=t.head?.querySelectorAll(`style[${Vd}="${e}"],link[${Vd}="${e}"]`);if(o)for(let i of o)i.removeAttribute(Vd),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Bd(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Wd=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,gC(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,kv);r?.forEach(o=>this.addUsage(o,this.external,Bd))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Ov(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Ov(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,kv(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Bd(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(k(de),k(Ca),k(Da,8),k($r))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Hd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gd=/%COMP%/g;var Lv="%COMP%",mC=`_nghost-${Lv}`,vC=`_ngcontent-${Lv}`,yC=!0,wC=new D("",{providedIn:"root",factory:()=>yC});function bC(t){return vC.replace(Gd,t)}function EC(t){return mC.replace(Gd,t)}function jv(t,e){return e.map(n=>n.replace(Gd,t))}var Kd=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new ii(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof za?o.applyToHost(n):o instanceof si&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case kt.Emulated:i=new za(c,l,r,this.appId,u,s,a,d,p);break;case kt.ShadowDom:return new zd(c,l,n,r,s,a,this.nonce,d,p);default:i=new si(c,l,r,u,s,a,d,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(k(qd),k(Wd),k(Ca),k(wC),k(de),k($r),k(oe),k(Da),k(Zo,8))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),ii=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Hd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Pv(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Pv(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=Hd[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=Hd[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&($n.DashCase|$n.Important)?e.style.setProperty(n,r,o&$n.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$n.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,o){if(typeof e=="string"&&(e=Lt().getGlobalEventTarget(this.doc,e),!e))throw new C(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,o)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Pv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var zd=class extends ii{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,o,i,s,a,c,l){super(e,i,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=jv(o.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let p of d){let f=Bd(p,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},si=class extends ii{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,i,s,a,c,l){super(e,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?jv(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Lr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},za=class extends si{contentAttr;hostAttr;constructor(e,n,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(e,n,r,i,s,a,c,l,u),this.contentAttr=bC(u),this.hostAttr=EC(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Wa=class t extends ni{supportsDOMEvents=!0;static makeCurrent(){Fd(new t)}onAndCancel(e,n,r,o){return e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r,o)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=_C();return n==null?null:IC(n)}resetBaseElement(){ai=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ud(document.cookie,e)}},ai=null;function _C(){return ai=ai||document.head.querySelector("base"),ai?ai.getAttribute("href"):null}function IC(t){return new URL(t,document.baseURI).pathname}var SC=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Fv=["alt","control","meta","shift"],CC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TC={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$v=(()=>{class t extends oi{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Fv.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=CC[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Fv.forEach(s=>{if(s!==o){let a=TC[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(k(de))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})();function Zd(t,e,n){let r=E({rootComponent:t,platformRef:n?.platformRef},DC(e));return Sv(r)}function DC(t){return{appProviders:[...AC,...t?.providers??[]],platformProviders:NC}}function xC(){Wa.makeCurrent()}function MC(){return new ht}function RC(){return ed(document),document}var NC=[{provide:$r,useValue:Av},{provide:Ta,useValue:xC,multi:!0},{provide:de,useFactory:RC}];var AC=[{provide:Ro,useValue:"root"},{provide:ht,useFactory:MC},{provide:qa,useClass:Ba,multi:!0,deps:[de]},{provide:qa,useClass:$v,multi:!0,deps:[de]},Kd,Wd,qd,{provide:jn,useExisting:Kd},{provide:ri,useClass:SC},[]];var Uv=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(k(de))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var A="primary",_i=Symbol("RouteTitle"),ef=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function qn(t){return new ef(t)}function Kv(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=t[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function kC(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yt(t[n],e[n]))return!1;return!0}function yt(t,e){let n=t?tf(t):void 0,r=e?tf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!Zv(t[o],e[o]))return!1;return!0}function tf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Zv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}else return t===e}function Qv(t){return t.length>0?t[t.length-1]:null}function Ut(t){return Al(t)?t:Xo(t)?te(Promise.resolve(t)):M(t)}var PC={exact:Yv,subset:Xv},Jv={exact:LC,subset:jC,ignored:()=>!0};function Vv(t,e,n){return PC[n.paths](t.root,e.root,n.matrixParams)&&Jv[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function LC(t,e){return yt(t,e)}function Yv(t,e,n){if(!Bn(t.segments,e.segments)||!Za(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Yv(t.children[r],e.children[r],n))return!1;return!0}function jC(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Zv(t[n],e[n]))}function Xv(t,e,n){return ey(t,e,e.segments,n)}function ey(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!Bn(o,n)||e.hasChildren()||!Za(o,n,r))}else if(t.segments.length===n.length){if(!Bn(t.segments,n)||!Za(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!Xv(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!Bn(t.segments,o)||!Za(t.segments,o,r)||!t.children[A]?!1:ey(t.children[A],e,i,r)}}function Za(t,e,n){return e.every((r,o)=>Jv[n](t[o].parameters,r.parameters))}var bt=class{root;queryParams;fragment;_queryParamMap;constructor(e=new H([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qn(this.queryParams),this._queryParamMap}toString(){return UC.serialize(this)}},H=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qa(this)}},an=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=qn(this.parameters),this._parameterMap}toString(){return ny(this)}};function FC(t,e){return Bn(t,e)&&t.every((n,r)=>yt(n.parameters,e[r].parameters))}function Bn(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function $C(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===A&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==A&&(n=n.concat(e(o,r)))}),n}var Ii=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>new Wn,providedIn:"root"})}return t})(),Wn=class{parse(e){let n=new rf(e);return new bt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ci(e.root,!0)}`,r=BC(e.queryParams),o=typeof e.fragment=="string"?`#${VC(e.fragment)}`:"";return`${n}${r}${o}`}},UC=new Wn;function Qa(t){return t.segments.map(e=>ny(e)).join("/")}function ci(t,e){if(!t.hasChildren())return Qa(t);if(e){let n=t.children[A]?ci(t.children[A],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==A&&r.push(`${o}:${ci(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$C(t,(r,o)=>o===A?[ci(t.children[A],!1)]:[`${o}:${ci(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[A]!=null?`${Qa(t)}/${n[0]}`:`${Qa(t)}/(${n.join("//")})`}}function ty(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ga(t){return ty(t).replace(/%3B/gi,";")}function VC(t){return encodeURI(t)}function nf(t){return ty(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ja(t){return decodeURIComponent(t)}function Hv(t){return Ja(t.replace(/\+/g,"%20"))}function ny(t){return`${nf(t.path)}${HC(t.parameters)}`}function HC(t){return Object.entries(t).map(([e,n])=>`;${nf(e)}=${nf(n)}`).join("")}function BC(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Ga(n)}=${Ga(o)}`).join("&"):`${Ga(n)}=${Ga(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var zC=/^[^\/()?;#]+/;function Qd(t){let e=t.match(zC);return e?e[0]:""}var qC=/^[^\/()?;=#]+/;function WC(t){let e=t.match(qC);return e?e[0]:""}var GC=/^[^=?&#]+/;function KC(t){let e=t.match(GC);return e?e[0]:""}var ZC=/^[^&#]+/;function QC(t){let e=t.match(ZC);return e?e[0]:""}var rf=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new H([],{}):new H([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[A]=new H(e,n)),r}parseSegment(){let e=Qd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new an(Ja(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=WC(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Qd(this.remaining);o&&(r=o,this.capture(r))}e[Ja(n)]=Ja(r)}parseQueryParam(e){let n=KC(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=QC(this.remaining);s&&(r=s,this.capture(r))}let o=Hv(n),i=Hv(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qd(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new C(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=A);let s=this.parseChildren();n[i]=Object.keys(s).length===1&&s[A]?s[A]:new H([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function ry(t){return t.segments.length>0?new H([],{[A]:t}):t}function oy(t){let e={};for(let[r,o]of Object.entries(t.children)){let i=oy(o);if(r===A&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let n=new H(t.segments,e);return JC(n)}function JC(t){if(t.numberOfChildren===1&&t.children[A]){let e=t.children[A];return new H(t.segments.concat(e.segments),e.children)}return t}function cn(t){return t instanceof bt}function iy(t,e,n=null,r=null){let o=sy(t);return ay(o,e,n,r)}function sy(t){let e;function n(i){let s={};for(let c of i.children){let l=n(c);s[c.outlet]=l}let a=new H(i.url,s);return i===t&&(e=a),a}let r=n(t.root),o=ry(r);return e??o}function ay(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return Jd(o,o,o,n,r);let i=YC(e);if(i.toRoot())return Jd(o,o,new H([],{}),n,r);let s=XC(i,o,t),a=s.processChildren?ui(s.segmentGroup,s.index,i.commands):ly(s.segmentGroup,s.index,i.commands);return Jd(o,s.segmentGroup,a,n,r)}function Ya(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function hi(t){return typeof t=="object"&&t!=null&&t.outlets}function Jd(t,e,n,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=cy(t,e,n);let a=ry(oy(s));return new bt(a,i,o)}function cy(t,e,n){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===e?r[o]=n:r[o]=cy(i,e,n)}),new H(t.segments,r)}var Xa=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ya(r[0]))throw new C(4003,!1);let o=r.find(hi);if(o&&o!==Qv(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YC(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xa(!0,0,t);let e=0,n=!1,r=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Xa(n,e,r)}var qr=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function XC(t,e,n){if(t.isAbsolute)return new qr(e,!0,0);if(!n)return new qr(e,!1,NaN);if(n.parent===null)return new qr(n,!0,0);let r=Ya(t.commands[0])?0:1,o=n.segments.length-1+r;return eT(n,o,t.numberOfDoubleDots)}function eT(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new C(4005,!1);o=r.segments.length}return new qr(r,!1,o-i)}function tT(t){return hi(t[0])?t[0].outlets:{[A]:t}}function ly(t,e,n){if(t??=new H([],{}),t.segments.length===0&&t.hasChildren())return ui(t,e,n);let r=nT(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new H(t.segments.slice(0,r.pathIndex),{});return i.children[A]=new H(t.segments.slice(r.pathIndex),t.children),ui(i,0,o)}else return r.match&&o.length===0?new H(t.segments,{}):r.match&&!t.hasChildren()?of(t,e,n):r.match?ui(t,0,o):of(t,e,n)}function ui(t,e,n){if(n.length===0)return new H(t.segments,{});{let r=tT(n),o={};if(Object.keys(r).some(i=>i!==A)&&t.children[A]&&t.numberOfChildren===1&&t.children[A].segments.length===0){let i=ui(t.children[A],e,n);return new H(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=ly(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new H(t.segments,o)}}function nT(t,e,n){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;let s=t.segments[o],a=n[r];if(hi(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!zv(c,l,s))return i;r+=2}else{if(!zv(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function of(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let i=n[o];if(hi(i)){let c=rT(i.outlets);return new H(r,c)}if(o===0&&Ya(n[0])){let c=t.segments[e];r.push(new an(c.path,Bv(n[0]))),o++;continue}let s=hi(i)?i.outlets[A]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Ya(a)?(r.push(new an(s,Bv(a))),o+=2):(r.push(new an(s,{})),o++)}return new H(r,{})}function rT(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=of(new H([],{}),0,r))}),e}function Bv(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function zv(t,e,n){return t==n.path&&yt(e,n.parameters)}var di="imperative",fe=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(fe||{}),ze=class{id;url;constructor(e,n){this.id=e,this.url=n}},jt=class extends ze{type=fe.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",o=null){super(e,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Et=class extends ze{urlAfterRedirects;type=fe.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},De=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(De||{}),pi=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(pi||{}),wt=class extends ze{reason;code;type=fe.NavigationCancel;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ft=class extends ze{reason;code;type=fe.NavigationSkipped;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}},Gr=class extends ze{error;target;type=fe.NavigationError;constructor(e,n,r,o){super(e,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gi=class extends ze{urlAfterRedirects;state;type=fe.RoutesRecognized;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ec=class extends ze{urlAfterRedirects;state;type=fe.GuardsCheckStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tc=class extends ze{urlAfterRedirects;state;shouldActivate;type=fe.GuardsCheckEnd;constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nc=class extends ze{urlAfterRedirects;state;type=fe.ResolveStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rc=class extends ze{urlAfterRedirects;state;type=fe.ResolveEnd;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oc=class{route;type=fe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ic=class{route;type=fe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sc=class{snapshot;type=fe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ac=class{snapshot;type=fe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cc=class{snapshot;type=fe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lc=class{snapshot;type=fe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var mi=class{},Kr=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function oT(t){return!(t instanceof mi)&&!(t instanceof Kr)}function iT(t,e){return t.providers&&!t._injector&&(t._injector=Jo(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ct(t){return t.outlet||A}function sT(t,e){let n=t.filter(r=>ct(r)===e);return n.push(...t.filter(r=>ct(r)!==e)),n}function Jr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var uc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Jr(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Yr(this.rootInjector)}},Yr=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new uc(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(k(le))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dc=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=sf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=sf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=af(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return af(e,this._root).map(n=>n.value)}};function sf(t,e){if(t===e.value)return e;for(let n of e.children){let r=sf(t,n);if(r)return r}return null}function af(t,e){if(t===e.value)return[e];for(let n of e.children){let r=af(t,n);if(r.length)return r.unshift(e),r}return[]}var Be=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function zr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var vi=class extends dc{snapshot;constructor(e,n){super(e),this.snapshot=n,gf(this,e)}toString(){return this.snapshot.toString()}};function uy(t){let e=aT(t),n=new he([new an("",{})]),r=new he({}),o=new he({}),i=new he({}),s=new he(""),a=new $t(n,r,i,s,o,A,t,e.root);return a.snapshot=e.root,new vi(new Be(a,[]),e)}function aT(t){let e={},n={},r={},i=new zn([],e,r,"",n,A,t,null,{});return new yi("",new Be(i,[]))}var $t=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(F(l=>l[_i]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(F(e=>qn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(F(e=>qn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fc(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),o?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},o&&fy(o)&&(r.resolve[_i]=o.title),r}var zn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[_i]}constructor(e,n,r,o,i,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},yi=class extends dc{url;constructor(e,n){super(n),this.url=e,gf(this,n)}toString(){return dy(this._root)}};function gf(t,e){e.value._routerState=t,e.children.forEach(n=>gf(t,n))}function dy(t){let e=t.children.length>0?` { ${t.children.map(dy).join(", ")} } `:"";return`${t.value}${e}`}function Yd(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),yt(e.params,n.params)||t.paramsSubject.next(n.params),kC(e.url,n.url)||t.urlSubject.next(n.url),yt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cf(t,e){let n=yt(t.params,e.params)&&FC(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||cf(t.parent,e.parent))}function fy(t){return typeof t.title=="string"||t.title===null}var hy=new D(""),Si=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=A;activateEvents=new Se;deactivateEvents=new Se;attachEvents=new Se;detachEvents=new Se;routerOutletData=Iv(void 0);parentContexts=y(Yr);location=y(Oa);changeDetector=y(jd);inputBinder=y(mc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lf(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Yo({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ko]})}return t})(),lf=class{route;childContexts;parent;outletData;constructor(e,n,r,o){this.route=e,this.childContexts=n,this.parent=r,this.outletData=o}get(e,n){return e===$t?this.route:e===Yr?this.childContexts:e===hy?this.outletData:this.parent.get(e,n)}},mc=new D("");var mf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ce({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Qe(0,"router-outlet")},dependencies:[Si],encapsulation:2})}return t})();function vf(t){let e=t.children&&t.children.map(vf),n=e?q(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==A&&(n.component=mf),n}function cT(t,e,n){let r=wi(t,e._root,n?n._root:void 0);return new vi(r,e)}function wi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=lT(t,e,n);return new Be(r,o)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>wi(t,a)),s}}let r=uT(e.value),o=e.children.map(i=>wi(t,i));return new Be(r,o)}}function lT(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return wi(t,r,o);return wi(t,r)})}function uT(t){return new $t(new he(t.url),new he(t.params),new he(t.queryParams),new he(t.fragment),new he(t.data),t.outlet,t.component,t)}var Zr=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},py="ngNavigationCancelingError";function hc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=cn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=gy(!1,De.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function gy(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[py]=!0,n.cancellationCode=e,n}function dT(t){return my(t)&&cn(t.url)}function my(t){return!!t&&t[py]}var fT=(t,e,n,r)=>F(o=>(new uf(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),uf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yd(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=zr(n);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=zr(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=zr(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=zr(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new lc(i.value.snapshot))}),e.children.length&&this.forwardEvent(new ac(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(Yd(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Yd(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},pc=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Wr=class{component;route;constructor(e,n){this.component=e,this.route=n}};function hT(t,e,n){let r=t._root,o=e?e._root:null;return li(r,o,n,[r.value])}function pT(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Xr(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Zl(t)?t:e.get(t):r}function li(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=zr(e);return t.children.forEach(s=>{gT(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>fi(a,n.getContext(s),o)),o}function gT(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=mT(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new pc(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?li(t,e,a?a.children:null,r,o):li(t,e,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Wr(a.outlet.component,s))}else s&&fi(e,a,o),o.canActivateChecks.push(new pc(r)),i.component?li(t,null,a?a.children:null,r,o):li(t,null,n,r,o);return o}function mT(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Bn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bn(t.url,e.url)||!yt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cf(t,e)||!yt(t.queryParams,e.queryParams);case"paramsChange":default:return!cf(t,e)}}function fi(t,e,n){let r=zr(t),o=t.value;Object.entries(r).forEach(([i,s])=>{o.component?e?fi(s,e.children.getContext(i),n):fi(s,null,n):fi(s,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Wr(e.outlet.component,o)):n.canDeactivateChecks.push(new Wr(null,o)):n.canDeactivateChecks.push(new Wr(null,o))}function Ci(t){return typeof t=="function"}function vT(t){return typeof t=="boolean"}function yT(t){return t&&Ci(t.canLoad)}function wT(t){return t&&Ci(t.canActivate)}function bT(t){return t&&Ci(t.canActivateChild)}function ET(t){return t&&Ci(t.canDeactivate)}function _T(t){return t&&Ci(t.canMatch)}function vy(t){return t instanceof xt||t?.name==="EmptyError"}var Ka=Symbol("INITIAL_VALUE");function Qr(){return Ae(t=>Ns(t.map(e=>e.pipe(Mt(1),Pl(Ka)))).pipe(F(e=>{for(let n of e)if(n!==!0){if(n===Ka)return Ka;if(n===!1||IT(n))return n}return!0}),qe(e=>e!==Ka),Mt(1)))}function IT(t){return cn(t)||t instanceof Zr}function ST(t,e){return re(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?M(q(E({},n),{guardsResult:!0})):CT(s,r,o,t).pipe(re(a=>a&&vT(a)?TT(r,i,t,e):M(a)),F(a=>q(E({},n),{guardsResult:a})))})}function CT(t,e,n,r){return te(t).pipe(re(o=>NT(o.component,o.route,n,e,r)),Rt(o=>o!==!0,!0))}function TT(t,e,n,r){return te(e).pipe(Tr(o=>Cr(xT(o.route.parent,r),DT(o.route,r),RT(t,o.path,n),MT(t,o.route,n))),Rt(o=>o!==!0,!0))}function DT(t,e){return t!==null&&e&&e(new cc(t)),M(!0)}function xT(t,e){return t!==null&&e&&e(new sc(t)),M(!0)}function MT(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let o=r.map(i=>bo(()=>{let s=Jr(e)??n,a=Xr(i,s),c=wT(a)?a.canActivate(e,t):_e(s,()=>a(e,t));return Ut(c).pipe(Rt())}));return M(o).pipe(Qr())}function RT(t,e,n){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>pT(s)).filter(s=>s!==null).map(s=>bo(()=>{let a=s.guards.map(c=>{let l=Jr(s.node)??n,u=Xr(c,l),d=bT(u)?u.canActivateChild(r,t):_e(l,()=>u(r,t));return Ut(d).pipe(Rt())});return M(a).pipe(Qr())}));return M(i).pipe(Qr())}function NT(t,e,n,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return M(!0);let s=i.map(a=>{let c=Jr(e)??o,l=Xr(a,c),u=ET(l)?l.canDeactivate(t,e,n,r):_e(c,()=>l(t,e,n,r));return Ut(u).pipe(Rt())});return M(s).pipe(Qr())}function AT(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return M(!0);let i=o.map(s=>{let a=Xr(s,t),c=yT(a)?a.canLoad(e,n):_e(t,()=>a(e,n));return Ut(c)});return M(i).pipe(Qr(),yy(r))}function yy(t){return Cl(ce(e=>{if(typeof e!="boolean")throw hc(t,e)}),F(e=>e===!0))}function OT(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return M(!0);let i=o.map(s=>{let a=Xr(s,t),c=_T(a)?a.canMatch(e,n):_e(t,()=>a(e,n));return Ut(c)});return M(i).pipe(Qr(),yy(r))}var bi=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ei=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Br(t){return Sr(new bi(t))}function kT(t){return Sr(new C(4e3,!1))}function PT(t){return Sr(gy(!1,De.GuardRejected))}var df=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return M(r);if(o.numberOfChildren>1||!o.children[A])return kT(`${e.redirectTo}`);o=o.children[A]}}applyRedirectCommands(e,n,r,o,i){return LT(n,o,i).pipe(F(s=>{if(s instanceof bt)throw new Ei(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ei(a);return a}))}applyRedirectCreateUrlTree(e,n,r,o){let i=this.createSegmentGroup(e,n.root,r,o);return new bt(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){let i=this.createSegments(e,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new H(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new C(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}};function LT(t,e,n){if(typeof t=="string")return M(t);let r=t,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=e;return Ut(_e(n,()=>r({params:l,data:u,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var ff={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jT(t,e,n,r,o){let i=wy(t,e,n);return i.matched?(r=iT(e,r),OT(r,e,n,o).pipe(F(s=>s===!0?i:E({},ff)))):M(i)}function wy(t,e,n){if(e.path==="**")return FT(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},ff):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||Kv)(n,t,e);if(!o)return E({},ff);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?E(E({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function FT(t){return{matched:!0,parameters:t.length>0?Qv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qv(t,e,n,r){return n.length>0&&VT(t,n,r)?{segmentGroup:new H(e,UT(r,new H(n,t.children))),slicedSegments:[]}:n.length===0&&HT(t,n,r)?{segmentGroup:new H(t.segments,$T(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new H(t.segments,t.children),slicedSegments:n}}function $T(t,e,n,r){let o={};for(let i of n)if(vc(t,e,i)&&!r[ct(i)]){let s=new H([],{});o[ct(i)]=s}return E(E({},r),o)}function UT(t,e){let n={};n[A]=e;for(let r of t)if(r.path===""&&ct(r)!==A){let o=new H([],{});n[ct(r)]=o}return n}function VT(t,e,n){return n.some(r=>vc(t,e,r)&&ct(r)!==A)}function HT(t,e,n){return n.some(r=>vc(t,e,r))}function vc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function BT(t,e,n){return e.length===0&&!t.children[n]}var hf=class{};function zT(t,e,n,r,o,i,s="emptyOnly"){return new pf(t,e,n,r,o,s,i).recognize()}var qT=31,pf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,o,i,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new df(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=qv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(F(({children:n,rootSnapshot:r})=>{let o=new Be(r,n),i=new yi("",o),s=iy(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){let n=new zn([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),A,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,A,n).pipe(F(r=>({children:r,rootSnapshot:n})),Kt(r=>{if(r instanceof Ei)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bi?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,i):this.processSegment(e,n,r,r.segments,o,!0,i).pipe(F(s=>s instanceof Be?[s]:[]))}processChildren(e,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return te(i).pipe(Tr(s=>{let a=r.children[s],c=sT(n,s);return this.processSegmentGroup(e,c,a,s,o)}),kl((s,a)=>(s.push(...a),s)),Zt(null),Ol(),re(s=>{if(s===null)return Br(r);let a=by(s);return WT(a),M(a)}))}processSegment(e,n,r,o,i,s,a){return te(n).pipe(Tr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,o,i,s,a).pipe(Kt(l=>{if(l instanceof bi)return M(null);throw l}))),Rt(c=>!!c),Kt(c=>{if(vy(c))return BT(r,o,i)?M(new hf):Br(r);throw c}))}processSegmentAgainstRoute(e,n,r,o,i,s,a,c){return ct(r)!==s&&(s===A||!vc(o,i,r))?Br(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s,c):Br(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=wy(n,o,i);if(!c)return Br(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qT&&(this.allowRedirects=!1));let f=new zn(i,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Wv(o),ct(o),o.component??o._loadedComponent??null,o,Gv(o)),g=fc(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(g.params),f.data=Object.freeze(g.data),this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,f,e).pipe(Ae(m=>this.applyRedirects.lineralizeSegments(o,m)),re(m=>this.processSegment(e,r,n,m.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,o,i,s){let a=jT(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ae(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Ae(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:p,remainingSegments:f}=c,g=new zn(p,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Wv(r),ct(r),r.component??r._loadedComponent??null,r,Gv(r)),v=fc(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:m,slicedSegments:w}=qv(n,p,f,l);if(w.length===0&&m.hasChildren())return this.processChildren(u,l,m,g).pipe(F(I=>new Be(g,I)));if(l.length===0&&w.length===0)return M(new Be(g,[]));let V=ct(r)===i;return this.processSegment(u,l,m,w,V?A:i,!0,g).pipe(F(I=>new Be(g,I instanceof Be?[I]:[])))}))):Br(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):AT(e,n,r,this.urlSerializer).pipe(re(o=>o?this.configLoader.loadChildren(e,n).pipe(ce(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):PT(n))):M({routes:[],injector:e})}};function WT(t){t.sort((e,n)=>e.value.outlet===A?-1:n.value.outlet===A?1:e.value.outlet.localeCompare(n.value.outlet))}function GT(t){let e=t.value.routeConfig;return e&&e.path===""}function by(t){let e=[],n=new Set;for(let r of t){if(!GT(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=by(r.children);e.push(new Be(r.value,o))}return e.filter(r=>!n.has(r))}function Wv(t){return t.data||{}}function Gv(t){return t.resolve||{}}function KT(t,e,n,r,o,i){return re(s=>zT(t,e,n,r,s.extractedUrl,o,i).pipe(F(({state:a,tree:c})=>q(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function ZT(t,e){return re(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return M(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of Ey(c))s.add(l);let a=0;return te(s).pipe(Tr(c=>i.has(c)?QT(c,r,t,e):(c.data=fc(c,c.parent,t).resolve,M(void 0))),ce(()=>a++),Dr(1),re(c=>a===s.size?M(n):Re))})}function Ey(t){let e=t.children.map(n=>Ey(n)).flat();return[t,...e]}function QT(t,e,n,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!fy(o)&&(i[_i]=o.title),bo(()=>(t.data=fc(t,t.parent,n).resolve,JT(i,t,e,r).pipe(F(s=>(t._resolvedData=s,t.data=E(E({},t.data),s),null)))))}function JT(t,e,n,r){let o=tf(t);if(o.length===0)return M({});let i={};return te(o).pipe(re(s=>YT(t[s],e,n,r).pipe(Rt(),ce(a=>{if(a instanceof Zr)throw hc(new Wn,a);i[s]=a}))),Dr(1),F(()=>i),Kt(s=>vy(s)?Re:Sr(s)))}function YT(t,e,n,r){let o=Jr(e)??r,i=Xr(t,o),s=i.resolve?i.resolve(e,n):_e(o,()=>i(e,n));return Ut(s)}function Xd(t){return Ae(e=>{let n=t(e);return n?te(n).pipe(F(()=>e)):M(e)})}var yf=(()=>{class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===A);return r}getResolvedTitleForRoute(n){return n.data[_i]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>y(_y),providedIn:"root"})}return t})(),_y=(()=>{class t extends yf{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(k(Uv))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eo=new D("",{providedIn:"root",factory:()=>({})}),Ti=new D(""),Iy=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Rd);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return M(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Ut(_e(n,()=>r.loadComponent())).pipe(F(Cy),Ae(Ty),ce(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Eo(()=>{this.componentLoaders.delete(r)})),i=new Ir(o,()=>new se).pipe(_r());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return M({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=Sy(r,this.compiler,n,this.onLoadEndListener).pipe(Eo(()=>{this.childrenLoaders.delete(r)})),s=new Ir(i,()=>new se).pipe(_r());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sy(t,e,n,r){return Ut(_e(n,()=>t.loadChildren())).pipe(F(Cy),Ae(Ty),re(o=>o instanceof ka||Array.isArray(o)?M(o):te(e.compileModuleAsync(o))),F(o=>{r&&r(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(Ti,[],{optional:!0,self:!0}).flat()),{routes:s.map(vf),injector:i}}))}function XT(t){return t&&typeof t=="object"&&"default"in t}function Cy(t){return XT(t)?t.default:t}function Ty(t){return M(t)}var yc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>y(eD),providedIn:"root"})}return t})(),eD=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dy=new D("");var xy=new D(""),My=(()=>{class t{currentNavigation=it(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new se;transitionAbortWithErrorSubject=new se;configLoader=y(Iy);environmentInjector=y(le);destroyRef=y(kn);urlSerializer=y(Ii);rootContexts=y(Yr);location=y(Hr);inputBindingEnabled=y(mc,{optional:!0})!==null;titleStrategy=y(yf);options=y(eo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(yc);createViewTransition=y(Dy,{optional:!0});navigationErrorHandler=y(xy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>M(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new oc(o)),r=o=>this.events.next(new ic(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Pt(()=>{this.transitions?.next(q(E({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new he(null),this.transitions.pipe(qe(r=>r!==null),Ae(r=>{let o=!1;return M(r).pipe(Ae(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",De.SupersededByNewNavigation),Re;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?q(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Ft(i.id,this.urlSerializer.serialize(i.rawUrl),"",pi.IgnoredSameUrlNavigation)),i.resolve(!1),Re;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return M(i).pipe(Ae(c=>(this.events.next(new jt(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Re:Promise.resolve(c))),KT(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ce(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new gi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:p}=i,f=new jt(c,this.urlSerializer.serialize(l),u,d);this.events.next(f);let g=uy(this.rootComponentType).snapshot;return this.currentTransition=r=q(E({},i),{targetSnapshot:g,urlAfterRedirects:l,extras:q(E({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(v=>(v.finalUrl=l,v)),M(r)}else return this.events.next(new Ft(i.id,this.urlSerializer.serialize(i.extractedUrl),"",pi.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Re}),ce(i=>{let s=new ec(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),F(i=>(this.currentTransition=r=q(E({},i),{guards:hT(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),ST(this.environmentInjector,i=>this.events.next(i)),ce(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw hc(this.urlSerializer,i.guardsResult);let s=new tc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),qe(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",De.GuardRejected),!1)),Xd(i=>{if(i.guards.canActivateChecks.length!==0)return M(i).pipe(ce(s=>{let a=new nc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ae(s=>{let a=!1;return M(s).pipe(ZT(this.paramsInheritanceStrategy,this.environmentInjector),ce({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",De.NoDataFromResolver)}}))}),ce(s=>{let a=new rc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Xd(i=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=Jr(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(ce(u=>{a.component=u}),F(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Ns(s(i.targetSnapshot.root)).pipe(Zt(null),Mt(1))}),Xd(()=>this.afterPreactivation()),Ae(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?te(a).pipe(F(()=>r)):M(r)}),F(i=>{let s=cT(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=q(E({},i),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ce(()=>{this.events.next(new mi)}),fT(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Mt(1),Os(new $(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(qe(()=>!o&&!r.targetRouterState),ce(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",De.Aborted)}))),ce({next:i=>{o=!0,this.lastSuccessfulNavigation=Pt(this.currentNavigation),this.events.next(new Et(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),Os(this.transitionAbortWithErrorSubject.pipe(ce(i=>{throw i}))),Eo(()=>{o||this.cancelNavigationTransition(r,"",De.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Kt(i=>{if(this.destroyed)return r.resolve(!1),Re;if(o=!0,my(i))this.events.next(new wt(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),dT(i)?this.events.next(new Kr(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Gr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=_e(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Zr){let{message:c,cancellationCode:l}=hc(this.urlSerializer,a);this.events.next(new wt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Kr(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Re}))}))}cancelNavigationTransition(n,r,o){let i=new wt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Pt(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tD(t){return t!==di}var Ry=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>y(nD),providedIn:"root"})}return t})(),gc=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},nD=(()=>{class t extends gc{static \u0275fac=(()=>{let n;return function(o){return(n||(n=_a(t)))(o||t)}})();static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ny=(()=>{class t{urlSerializer=y(Ii);options=y(eo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Hr);urlHandlingStrategy=y(yc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new bt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof bt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=uy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>y(rD),providedIn:"root"})}return t})(),rD=(()=>{class t extends Ny{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof jt?this.updateStateMemento():n instanceof Ft?this.commitTransition(r):n instanceof gi?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof mi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof wt&&n.code!==De.SupersededByNewNavigation&&n.code!==De.Redirect?this.restoreHistory(r):n instanceof Gr?this.restoreHistory(r,!0):n instanceof Et&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=E(E({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=E(E({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=_a(t)))(o||t)}})();static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wf(t,e){t.events.pipe(qe(n=>n instanceof Et||n instanceof wt||n instanceof Gr||n instanceof Ft),F(n=>n instanceof Et||n instanceof Ft?0:(n instanceof wt?n.code===De.Redirect||n.code===De.SupersededByNewNavigation:!1)?2:1),qe(n=>n!==2),Mt(1)).subscribe(()=>{e()})}var oD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Id);stateManager=y(Ny);options=y(eo,{optional:!0})||{};pendingTasks=y(Ot);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(My);urlSerializer=y(Ii);location=y(Hr);urlHandlingStrategy=y(yc);injector=y(le);_events=new se;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(Ry);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Ti,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(mc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ee;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Pt(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof wt&&r.code!==De.Redirect&&r.code!==De.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Et)this.navigated=!0;else if(r instanceof Kr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=E({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tD(o.source)},s);this.scheduleNavigation(a,di,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}oT(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),di,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=E({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(Ve)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Pt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(vf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=o?o.snapshot:this.routerState.snapshot.root;d=sy(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return ay(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=cn(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,di,null,r)}navigate(n,r={skipLocationChange:!1}){return sD(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Co(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=E({},oD):r===!1?o=E({},iD):o=r,cn(n))return Vv(this.currentUrlTree,n,o);let i=this.parseUrl(n);return Vv(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return wf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sD(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}var wc=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=it(null);get href(){return Pt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new se;applicationErrorHandler=y(Ve);options=y(eo,{optional:!0});constructor(n,r,o,i,s,a){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.reactiveHref.set(y(new Va("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=o=>o==="merge"||o==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Et&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(cn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:cn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(on(Gn),on($t),Ia("tabindex"),on(Ed),on(Sa),on(Vr))};static \u0275dir=Yo({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&ja("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&La("href",o.reactiveHref(),od)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ha],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ha],replaceUrl:[2,"replaceUrl","replaceUrl",Ha],routerLink:"routerLink"},features:[Ko]})}return t})();var cD=new D("");function bf(t,...e){return Tn([{provide:Ti,multi:!0,useValue:t},[],{provide:$t,useFactory:lD,deps:[Gn]},{provide:Pa,multi:!0,useFactory:uD},e.map(n=>n.\u0275providers)])}function lD(t){return t.routerState.root}function uD(){let t=y(ft);return e=>{let n=t.get(Vn);if(e!==n.components[0])return;let r=t.get(Gn),o=t.get(dD);t.get(fD)===1&&r.initialNavigation(),t.get(hD,null,{optional:!0})?.setUpPreloading(),t.get(cD,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var dD=new D("",{factory:()=>new se}),fD=new D("",{providedIn:"root",factory:()=>1});var hD=new D("");Z();var Ay=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-HXKWO5LS.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var Di=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},xi=class extends Di{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Mi=class extends Di{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Ri=class extends Di{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Ef=(function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t})(Ef||{});var Ni=class{constructor(e,{headers:n={},customFetch:r,region:o=Ef.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=Ay(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return b(this,arguments,void 0,function*(n,r={}){var o;try{let{headers:i,method:s,body:a,signal:c}=r,l={},{region:u}=r;u||(u=this.region);let d=new URL(`${this.url}/${n}`);u&&u!=="any"&&(l["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let p;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(l["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(l["Content-Type"]="application/json",p=JSON.stringify(a)):p=a;let f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:p,signal:c}).catch(w=>{throw w.name==="AbortError"?w:new xi(w)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new Mi(f);if(!f.ok)throw new Ri(f);let v=((o=f.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),m;return v==="application/json"?m=yield f.json():v==="application/octet-stream"||v==="application/pdf"?m=yield f.blob():v==="text/event-stream"?m=f:v==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new xi(i)}:{data:null,error:i,response:i instanceof Ri||i instanceof Mi?i.context:void 0}}})}};var Ff=Tb(Hy(),1),{PostgrestClient:By,PostgrestQueryBuilder:d2,PostgrestFilterBuilder:f2,PostgrestTransformBuilder:h2,PostgrestBuilder:p2,PostgrestError:SD}=Ff.default||Ff;var $f=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},Uf=$f;var zy="2.77.0";var qy=`realtime-js/${zy}`,Wy="1.0.0";var Oi=1e4,Gy=1e3,Ky=100,ki=(function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t})(ki||{}),ie=(function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t})(ie||{}),Je=(function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t})(Je||{}),Vf=(function(t){return t.websocket="websocket",t})(Vf||{}),Kn=(function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t})(Kn||{});var Ec=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+o));s=s+o;let c=r.decode(e.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var no=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Q=(function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t})(Q||{}),Bf=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=CD(s,t,e,o),i),{}):{}},CD=(t,e,n,r)=>{let o=e.find(a=>a.name===t),i=o?.type,s=n[t];return i&&!r.includes(i)?Zy(i,s):Hf(s)},Zy=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return MD(e,n)}switch(t){case Q.bool:return TD(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return DD(e);case Q.json:case Q.jsonb:return xD(e);case Q.timestamp:return RD(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Hf(e);default:return Hf(e)}},Hf=t=>t,TD=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DD=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xD=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},MD=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i,s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Zy(e,a))}return t},RD=t=>typeof t=="string"?t.replace(" ","T"):t,_c=t=>{let e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var ro=class{constructor(e,n,r={},o=Oi){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Pi=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let i=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let p=u.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),g=u.filter(m=>f.indexOf(m.presence_ref)<0),v=d.filter(m=>p.indexOf(m.presence_ref)<0);g.length>0&&(a[l]=g),v.length>0&&(c[l]=v)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,o(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Li=(function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t})(Li||{}),Vt=(function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t})(Vt||{});var ji=class t{constructor(e,n={config:{}},r){var o,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ro(this,Je.join,this.params,this.timeout),this.rejoinTimer=new no(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Pi(this),this.broadcastEndpointURL=_c(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],u=!!this.bindings[Li.PRESENCE]&&this.bindings[Li.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Vt.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Vt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>h(this,[g],function*({postgres_changes:f}){var v;if(this.socket.setAuth(),f===void 0){e?.(Vt.SUBSCRIBED);return}else{let m=this.bindings.postgres_changes,w=(v=m?.length)!==null&&v!==void 0?v:0,V=[];for(let I=0;I<w;I++){let _=m[I],{filter:{event:z,schema:lt,table:K,filter:ne}}=_,Wt=f&&f[I];if(Wt&&Wt.event===z&&Wt.schema===lt&&Wt.table===K&&Wt.filter===ne)V.push(Object.assign(Object.assign({},_),{id:Wt.id}));else{this.unsubscribe(),this.state=ie.errored,e?.(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,e&&e(Vt.SUBSCRIBED);return}})).receive("error",f=>{this.state=ie.errored,e?.(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this.state===ie.joined&&e===Li.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}httpSend(o,i){return h(this,arguments,function*(e,n,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{let d=yield l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return h(this,arguments,function*(e,n={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ro(this,Je.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}_fetchWithTimeout(e,n,r){return h(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ro(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ky){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Je;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,v,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(v=f.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,v,m,w,V,I;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let _=f.id,z=(g=f.filter)===null||g===void 0?void 0:g.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(z==="*"||z?.toLocaleLowerCase()===((m=n.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let _=(V=(w=f?.filter)===null||w===void 0?void 0:w.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return _==="*"||_===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:v,table:m,commit_timestamp:w,type:V,errors:I}=g;p=Object.assign(Object.assign({},{schema:v,table:m,commit_timestamp:w,eventType:V,new:{},old:{},errors:I}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Bf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Bf(e.columns,e.old_record)),n}};var zf=()=>{},Ic={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},AD=[1e3,2e3,5e3,1e4],OD=1e4,kD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Fi=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oi,this.transport=null,this.heartbeatIntervalMs=Ic.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zf,this.ref=0,this.reconnectTimer=null,this.logger=zf,this.conn=null,this.sendBuffer=[],this.serializer=new Ec,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-HXKWO5LS.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Vf.websocket}`,this.httpEndpoint=_c(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Uf.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wy}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return h(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ki.connecting:return Kn.Connecting;case ki.open:return Kn.Open;case ki.closing:return Kn.Closing;default:return Kn.Closed}}isConnected(){return this.connectionState()===Kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new ji(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){let{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return h(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return h(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Gy,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ic.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([kD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(e=null){return h(this,null,function*(){let n;e?n=e:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:qy};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Je.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return h(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new no(()=>h(this,null,function*(){setTimeout(()=>h(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Ic.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,i,s,a,c,l,u;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Oi,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ic.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:zf,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:d=>AD[d-1]||OD,this.encode=(l=e?.encode)!==null&&l!==void 0?l:(d,p)=>p(JSON.stringify(d)),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};Z();var oo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function W(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Sc=class extends oo{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zn=class extends oo{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};Z();Z();var io=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-HXKWO5LS.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Qy=()=>b(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-HXKWO5LS.js")).Response:Response}),Cc=t=>{if(Array.isArray(t))return t.map(n=>Cc(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=Cc(r)}),e},Jy=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var qf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PD=(t,e,n)=>b(void 0,void 0,void 0,function*(){let r=yield Qy();t instanceof r&&!n?.noResolveJson?t.json().then(o=>{let i=t.status||500,s=o?.statusCode||i+"";e(new Sc(qf(o),i,s))}).catch(o=>{e(new Zn(qf(o),o))}):e(new Zn(qf(t),t))}),LD=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(Jy(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function $i(t,e,n,r,o,i){return b(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,LD(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>PD(c,a,r))})})}function ln(t,e,n,r){return b(this,void 0,void 0,function*(){return $i(t,"GET",e,n,r)})}function Le(t,e,n,r,o){return b(this,void 0,void 0,function*(){return $i(t,"POST",e,r,o,n)})}function Ui(t,e,n,r,o){return b(this,void 0,void 0,function*(){return $i(t,"PUT",e,r,o,n)})}function Yy(t,e,n,r){return b(this,void 0,void 0,function*(){return $i(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function so(t,e,n,r,o){return b(this,void 0,void 0,function*(){return $i(t,"DELETE",e,r,o,n)})}Z();Z();var Tc=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return b(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}};var Xy,Wf=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Xy]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tc(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return b(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}};Xy=Symbol.toStringTag;var ew=Wf;var jD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Dc=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=io(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return b(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},tw),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield(e=="PUT"?Ui:Le)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(W(i))return{data:null,error:i};throw i}})}upload(e,n,r){return b(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return b(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:tw.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield Ui(this.fetch,a.toString(),c,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(W(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return b(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield Le(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new oo("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}update(e,n,r){return b(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return b(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(W(o))return{data:null,error:o};throw o}})}copy(e,n,r){return b(this,void 0,void 0,function*(){try{return{data:{path:(yield Le(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(W(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return b(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield Le(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(W(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return b(this,void 0,void 0,function*(){try{let o=yield Le(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(W(o))return{data:null,error:o};throw o}})}download(e,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(e),c=()=>ln(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new ew(c,this.shouldThrowOnError)}info(e){return b(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{let r=yield ln(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}exists(e){return b(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{return yield Yy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r)&&r instanceof Zn){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return b(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}list(e,n,r){return b(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},jD),n),{prefix:e||""});return{data:yield Le(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(W(o))return{data:null,error:o};throw o}})}listV2(e,n){return b(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield Le(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};Z();var xc="2.77.0";var Mc={"X-Client-Info":`storage-js/${xc}`};var Rc=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mc),n),this.fetch=io(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return b(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(e);return{data:yield ln(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}getBucket(e){return b(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}createBucket(e){return b(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Le(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(W(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return b(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}emptyBucket(e){return b(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}deleteBucket(e){return b(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}};Z();var Nc=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mc),n),this.fetch=io(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return b(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}listBuckets(e){return b(this,void 0,void 0,function*(){try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ln(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}deleteBucket(e){return b(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}};Z();Z();var ao={"X-Client-Info":`storage-js/${xc}`,"Content-Type":"application/json"};var Ac=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function we(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var co=class extends Ac{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Oc=class extends Ac{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}};Z();var lo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-HXKWO5LS.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var nw=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var rw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FD=(t,e,n)=>b(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){let o=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";e(new co(rw(s),o,a))}).catch(()=>{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new co(a,o,s))});else{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new co(a,o,s))}}else e(new Oc(rw(t),t))}),$D=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(nw(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n))};function UD(t,e,n,r,o,i){return b(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,$D(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>FD(c,a,r))})})}function be(t,e,n,r,o){return b(this,void 0,void 0,function*(){return UD(t,"POST",e,r,o,n)})}var kc=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ao),n),this.fetch=lo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return b(this,void 0,void 0,function*(){try{return{data:(yield be(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}getIndex(e,n){return b(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}listIndexes(e){return b(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return b(this,void 0,void 0,function*(){try{return{data:(yield be(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}};Z();var Pc=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ao),n),this.fetch=lo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return b(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield be(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}getVectors(e){return b(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}listVectors(e){return b(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield be(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}queryVectors(e){return b(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteVectors(e){return b(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield be(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}};Z();var Lc=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ao),n),this.fetch=lo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return b(this,void 0,void 0,function*(){try{return{data:(yield be(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}getBucket(e){return b(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}listBuckets(){return b(this,arguments,void 0,function*(e={}){try{return{data:yield be(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteBucket(e){return b(this,void 0,void 0,function*(){try{return{data:(yield be(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}};var Vi=class extends Lc{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new jc(this.url,this.headers,e,this.fetch)}},jc=class extends kc{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return b(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return b(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return b(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return b(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Fc(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Fc=class extends Pc{constructor(e,n,r,o,i){super(e,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return b(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return b(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return b(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return b(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return b(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Hi=class extends Rc{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new Dc(this.url,this.headers,e,this.fetch)}get vectors(){return new Vi(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Nc(this.url+"/iceberg",this.headers,this.fetch)}};var ow="2.77.0";var Bi="";typeof Deno<"u"?Bi="deno":typeof document<"u"?Bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bi="react-native":Bi="node";var VD={"X-Client-Info":`supabase-js-${Bi}/${ow}`},iw={headers:VD},sw={schema:"public"},aw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cw={};Sh();var HD=t=>{let e;return t?e=t:typeof fetch>"u"?e=_h:e=fetch,(...n)=>e(...n)},BD=()=>typeof Headers>"u"?Ih:Headers,lw=(t,e,n)=>{let r=HD(n),o=BD();return(i,s)=>h(null,null,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:t,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};function zD(t){return t.endsWith("/")?t:t+"/"}function uw(t,e){var n,r;let{db:o,auth:i,realtime:s,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,p={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>h(null,null,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function dw(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}Z();Z();var $c="2.77.0";var Qn=30*1e3,Uc=3,Vc=Uc*Qn,fw="http://localhost:9999",hw="supabase.auth.token";var pw={"X-Client-Info":`gotrue-js/${$c}`};var zi="X-Supabase-Api-Version",Gf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mw=600*1e3;var un=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function S(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Hc=class extends un{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function vw(t){return S(t)&&t.name==="AuthApiError"}var Ye=class extends un{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},_t=class extends un{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}},Xe=class extends _t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function yw(t){return S(t)&&t.name==="AuthSessionMissingError"}var Ht=class extends _t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Jn=class extends _t{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Yn=class extends _t{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ww(t){return S(t)&&t.name==="AuthImplicitGrantRedirectError"}var qi=class extends _t{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},uo=class extends _t{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function Bc(t){return S(t)&&t.name==="AuthRetryableFetchError"}var Wi=class extends _t{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Xn=class extends _t{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bw=` 	
\r=`.split(""),qD=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bw.length;e+=1)t[bw[e].charCodeAt(0)]=-2;for(let e=0;e<zc.length;e+=1)t[zc[e].charCodeAt(0)]=e;return t})();function Ew(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(zc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(zc[r]),e.queuedBits-=6}}function _w(t,e,n){let r=qD[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Kf(t){let e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{KD(s,r,n)};for(let s=0;s<t.length;s+=1)_w(t.charCodeAt(s),o,i);return e.join("")}function WD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function GD(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}WD(r,e)}}function KD(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function dn(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)_w(t.charCodeAt(o),n,r);return new Uint8Array(e)}function Iw(t){let e=[];return GD(t,n=>e.push(n)),new Uint8Array(e)}function Bt(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Ew(o,n,r)),Ew(null,n,r),e.join("")}function Sw(t){return Math.round(Date.now()/1e3)+t}function Cw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var Me=()=>typeof window<"u"&&typeof document<"u",er={tested:!1,writable:!1},qc=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(er.tested)return er.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),er.tested=!0,er.writable=!0}catch{er.tested=!0,er.writable=!1}return er.writable};function Tw(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var Wc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-HXKWO5LS.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Dw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tr=(t,e,n)=>h(null,null,function*(){yield t.setItem(e,JSON.stringify(n))}),fn=(t,e)=>h(null,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),zt=(t,e)=>h(null,null,function*(){yield t.removeItem(e)}),Gi=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Gi.promiseConstructor=Promise;function Gc(t){let e=t.split(".");if(e.length!==3)throw new Xn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!gw.test(e[r]))throw new Xn("JWT not in base64url format");return{header:JSON.parse(Kf(e[0])),payload:JSON.parse(Kf(e[1])),signature:dn(e[2]),raw:{header:e[0],payload:e[1]}}}function xw(t){return h(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function Mw(t,e){return new Promise((r,o)=>{h(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})})}function ZD(t){return("0"+t.toString(16)).substr(-2)}function QD(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,ZD).join("")}function JD(t){return h(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function YD(t){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield JD(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function nr(t,e,n=!1){return h(this,null,function*(){let r=QD(),o=r;n&&(o+="/PASSWORD_RECOVERY"),yield tr(t,`${e}-code-verifier`,o);let i=yield YD(r);return[i,r===i?"plain":"s256"]})}var XD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rw(t){let e=t.headers.get(zi);if(!e||!e.match(XD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Nw(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Aw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ex=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rr(t){if(!ex.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kc(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zf(t){return JSON.parse(JSON.stringify(t))}var or=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tx=[502,503,504];function Ow(t){return h(this,null,function*(){var e;if(!Dw(t))throw new uo(or(t),0);if(tx.includes(t.status))throw new uo(or(t),t.status);let n;try{n=yield t.json()}catch(i){throw new Ye(or(i),i)}let r,o=Rw(t);if(o&&o.getTime()>=Gf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wi(or(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Xe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Wi(or(n),t.status,n.weak_password.reasons);throw new Hc(or(n),t.status||500,r)})}var nx=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function x(t,e,n,r){return h(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[zi]||(i[zi]=Gf["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield rx(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function rx(t,e,n,r,o,i){return h(this,null,function*(){let s=nx(e,r,o,i),a;try{a=yield t(n,Object.assign({},s))}catch(c){throw console.error(c),new uo(or(c),0)}if(a.ok||(yield Ow(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Ow(c)}})}function et(t){var e;let n=null;ox(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Sw(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Qf(t){let e=et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function It(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kw(t){return{data:t,error:null}}function Pw(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=Dt(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Jf(t){return t}function ox(t){return t.access_token&&t.refresh_token&&t.expires_in}var Zc=["global","local","others"];var fo=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Wc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return h(this,arguments,function*(e,n=Zc[0]){if(Zc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zc.join(", ")}`);try{return yield x(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(S(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return h(this,arguments,function*(e,n={}){try{return yield x(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:It})}catch(o){if(S(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return h(this,null,function*(){try{let{options:n}=e,r=Dt(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield x(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Pw,redirectTo:n?.redirectTo})}catch(n){if(S(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return h(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:It})}catch(n){if(S(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return h(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield x(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Jf});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);l[`${m}Page`]=v}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(S(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return h(this,null,function*(){rr(e);try{return yield x(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:It})}catch(n){if(S(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return h(this,null,function*(){rr(e);try{return yield x(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:It})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return h(this,null,function*(){rr(e);try{return yield x(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:It})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return h(this,null,function*(){rr(e.userId);try{let{data:n,error:r}=yield x(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(S(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return h(this,null,function*(){rr(e.userId),rr(e.id);try{return{data:yield x(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(S(n))return{data:null,error:n};throw n}})}_listOAuthClients(e){return h(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield x(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Jf});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);l[`${m}Page`]=v}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(S(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(e){return h(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(S(n))return{data:null,error:n};throw n}})}_getOAuthClient(e){return h(this,null,function*(){try{return yield x(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(S(n))return{data:null,error:n};throw n}})}_deleteOAuthClient(e){return h(this,null,function*(){try{return yield x(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(S(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(e){return h(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(S(n))return{data:null,error:n};throw n}})}};function Yf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}var ir={debug:!!(globalThis&&qc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ki=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Qc=class extends Ki{};function Xf(t,e,n){return h(this,null,function*(){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>h(null,null,function*(){if(o){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return yield n()}finally{ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Qc(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ir.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function Lw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eh(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function jw(t){return parseInt(t,16)}function Fw(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function $w(t){var e;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let f=eh(t.address),g=u?`${u}://${r}`:r,v=t.statement?`${t.statement}
`:"",m=`${g} wants you to sign in with your Ethereum account:
${f}

${v}`,w=`URI: ${d}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(w+=`
Expiration Time: ${o.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),c&&(w+=`
Request ID: ${c}`),l){let V=`
Resources:`;for(let I of l){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);V+=`
- ${I}`}w+=V}return`${m}
${w}`}Z();var Y=class extends Error{constructor({message:e,code:n,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},sr=class extends Y{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}};function Uw({error:t,options:e}){var n,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Y({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Y({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Y({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Y({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Y({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Y({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Y({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Y({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(th(s)){if(i.rp.id!==s)return new Y({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Y({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Y({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Y({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Y({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Vw({error:t,options:e}){let{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Y({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Y({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(th(r)){if(n.rpId!==r)return new Y({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Y({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Y({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Y({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var nh=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},ix=new nh;function Bw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:e,user:n,excludeCredentials:r}=t,o=Dt(t,["challenge","user","excludeCredentials"]),i=dn(e).buffer,s=Object.assign(Object.assign({},n),{id:dn(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:dn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function zw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:e,allowCredentials:n}=t,r=Dt(t,["challenge","allowCredentials"]),o=dn(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:dn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function qw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Bt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Bt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ww(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Bt(new Uint8Array(o.authenticatorData)),clientDataJSON:Bt(new Uint8Array(o.clientDataJSON)),signature:Bt(new Uint8Array(o.signature)),userHandle:o.userHandle?Bt(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function th(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Hw(){var t,e;return!!(Me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function sx(t){return h(this,null,function*(){try{let e=yield navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sr("Browser returned unexpected credential type",e)}:{data:null,error:new sr("Empty credential response",e)}}catch(e){return{data:null,error:Uw({error:e,options:t})}}})}function ax(t){return h(this,null,function*(){try{let e=yield navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sr("Browser returned unexpected credential type",e)}:{data:null,error:new sr("Empty credential response",e)}}catch(e){return{data:null,error:Vw({error:e,options:t})}}})}var cx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},lx={userVerification:"preferred",hints:["security-key"]};function Jc(...t){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of t)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(e(s)){let a=r[i];e(a)?r[i]=Jc(a,s):r[i]=Jc(s)}else r[i]=s}return r}function ux(t,e){return Jc(cx,t,e||{})}function dx(t,e){return Jc(lx,t,e||{})}var Yc=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return h(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(s,a){return h(this,arguments,function*({factorId:e,webauthn:n,friendlyName:r,signal:o},i){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:l};let u=o??ix.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{let d=ux(c.webauthn.credential_options.publicKey,i?.create),{data:p,error:f}=yield sx({publicKey:d,signal:u});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}case"request":{let d=dx(c.webauthn.credential_options.publicKey,i?.request),{data:p,error:f}=yield ax(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}}}catch(c){return S(c)?{data:null,error:c}:{data:null,error:new Ye("Unexpected error in challenge",c)}}})}_verify(o){return h(this,arguments,function*({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})})}_authenticate(s,a){return h(this,arguments,function*({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!n)return{data:null,error:new un("rpId is required for WebAuthn authentication")};try{if(!Hw())return{data:null,error:new Ye("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:l};let{webauthn:u}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return S(c)?{data:null,error:c}:{data:null,error:new Ye("Unexpected error in authenticate",c)}}})}_register(s,a){return h(this,arguments,function*({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!n)return{data:null,error:new un("rpId is required for WebAuthn registration")};try{if(!Hw())return{data:null,error:new Ye("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:e});if(!c)return yield this.client.mfa.listFactors().then(p=>{var f;return(f=p.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:u,error:d}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(c){return S(c)?{data:null,error:c}:{data:null,error:new Ye("Unexpected error in register",c)}}})}};Lw();var fx={url:fw,storageKey:hw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Gw(t,e,n){return h(this,null,function*(){return yield n()})}var ho={},hx=(()=>{class t{get jwks(){var n,r;return(r=(n=ho[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ho[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{cachedAt:n})}constructor(n){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},fx),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new fo({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Wc(i.fetch),this.lock=i.lock||Gw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Me()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Xf:this.lock=Gw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yc(this)},this.persistSession?(i.storage?this.storage=i.storage:qc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Yf(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$c}) ${new Date().toISOString()}`,...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r=Tw(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),Me()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ww(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return S(r)?{error:r}:{error:new Ye("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,o,i;try{let s=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:et}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(S(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return h(this,null,function*(){var r,o,i;try{let s;if("email"in n){let{email:d,password:p,options:f}=n,g=null,v=null;this.flowType==="pkce"&&([g,v]=yield nr(this.storage,this.storageKey)),s=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:v},xform:et})}else if("phone"in n){let{phone:d,password:p,options:f}=n;s=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:et})}else throw new Jn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(S(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield x(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Qf})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield x(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Qf})}else throw new Jn("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ht}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(S(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return h(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return h(this,null,function*(){var r,o,i,s,a,c,l,u,d,p,f;let g,v;if("message"in n)g=n.message,v=n.signature;else{let{chain:m,wallet:w,statement:V,options:I}=n,_;if(Me())if(typeof w=="object")_=w;else{let Tt=window;if("ethereum"in Tt&&typeof Tt.ethereum=="object"&&"request"in Tt.ethereum&&typeof Tt.ethereum.request=="function")_=Tt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}let z=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),lt=yield _.request({method:"eth_requestAccounts"}).then(Tt=>Tt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!lt||lt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let K=eh(lt[0]),ne=(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ne){let Tt=yield _.request({method:"eth_chainId"});ne=jw(Tt)}let Wt={domain:z.host,address:K,statement:V,uri:z.href,version:"1",chainId:ne,nonce:(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=I?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=$w(Wt),v=yield _.request({method:"personal_sign",params:[Fw(g),K]})}try{let{data:m,error:w}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:et});if(w)throw w;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ht}:(m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:w})}catch(m){if(S(m))return{data:{user:null,session:null},error:m};throw m}})}signInWithSolana(n){return h(this,null,function*(){var r,o,i,s,a,c,l,u,d,p,f,g;let v,m;if("message"in n)v=n.message,m=n.signature;else{let{chain:w,wallet:V,statement:I,options:_}=n,z;if(Me())if(typeof V=="object")z=V;else{let K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))z=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=V}let lt=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){let K=yield z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:lt.host,uri:lt.href}),I?{statement:I}:null)),ne;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")ne=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)ne=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)v=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),m=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${lt.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${lt.href}`,`Issued At: ${(i=(o=_?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((p=(d=_?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",..._.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);let K=yield z.signMessage(new TextEncoder().encode(v),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=K}}try{let{data:w,error:V}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Bt(m)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:et});if(V)throw V;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ht}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:V})}catch(w){if(S(w))return{data:{user:null,session:null},error:w};throw w}})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield fn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:et});if(yield zt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ht}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(S(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield x(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:et}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ht}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(S(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,o,i,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield nr(this.storage,this.storageKey));let{error:p}=yield x(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield x(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Jn("You must provide either an email or phone number.")}catch(c){if(S(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return h(this,null,function*(){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield x(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:et});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(S(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){return h(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield nr(this.storage,this.storageKey)),yield x(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:kw})}catch(s){if(S(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new Xe;let{error:i}=yield x(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(n){if(S(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield x(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield x(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Jn("You must provide either an email or phone number and a type")}catch(r){if(S(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=h(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<Vc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=yield fn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Kc()}if(this.storage.isServer&&n.user){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:n},error:null}}let{data:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return h(this,null,function*(){try{return n?yield x(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:It}):yield this._useSession(r=>h(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xe}:yield x(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:It})}))}catch(r){if(S(r))return yw(r)&&(yield this._removeSession(),yield zt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>h(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Xe;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield nr(this.storage,this.storageKey));let{data:d,error:p}=yield x(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:It});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(S(i))return{data:{user:null},error:i};throw i}})}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new Xe;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Gc(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(S(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Xe;let{data:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(S(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!Me())throw new Yn("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Yn(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new qi("No code detected.");let{data:I,error:_}=yield this._exchangeCodeForSession(n.code);if(_)throw _;let z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:I.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new Yn("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let g=f-d;g*1e3<=Qn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let v=f-p;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);let{data:m,error:w}=yield this._getUser(s);if(w)throw w;let V={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:n.type},error:null}}catch(o){if(S(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield fn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(vw(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield zt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=Cw(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return h(this,arguments,function*(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield nr(this.storage,this.storageKey,!0));try{return yield x(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(S(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(S(r))return{data:null,error:r};throw r}})}linkIdentity(n){return h(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return h(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield x(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return Me()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(S(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}linkIdentityIdToken(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:l,access_token:u,nonce:d}=n,p=yield x(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:et}),{data:f,error:g}=p;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Ht}:(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:g})}catch(i){if(S(i))return{data:{user:null,session:null},error:i};throw i}}))})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield x(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(S(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield Mw(i=>h(this,null,function*(){return i>0&&(yield xw(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield x(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:et})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&Bc(s)&&Date.now()+a-o<Qn})}catch(o){if(this._debug(r,"error",o),S(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),Me()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield fn(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield fn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield tr(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:Kc()}else if(i&&!i.user&&!i.user){let a=yield fn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,yield zt(this.storage,this.storageKey+"-user"),yield tr(this.storage,this.storageKey,i)):i.user=Kc()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Vc;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${Vc}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),Bc(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,o;if(!n)throw new Xe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Gi;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Xe;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),S(s)){let a={data:null,error:s};return Bc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return h(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield tr(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let s=Zf(i);yield tr(this.storage,this.storageKey,s)}else{let i=Zf(r);yield tr(this.storage,this.storageKey,i)}})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield zt(this.storage,this.storageKey),yield zt(this.storage,this.storageKey+"-code-verifier"),yield zt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield zt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Me()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Qn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Qn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Qn}ms, refresh threshold is ${Uc} ticks`),i<=Uc&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Ki)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Me()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return h(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield nr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield x(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(S(r))return{data:null,error:r};throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:u}=yield x(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(n.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(S(r))return{data:null,error:r};throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?qw(n.webauthn.credential_response):Ww(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=yield x(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:l})}))}catch(r){if(S(r))return{data:null,error:r};throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=yield x(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Bw(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:zw(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(S(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){var n;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(n=>h(this,null,function*(){var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Gc(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return h(this,arguments,function*(n,r={keys:[]}){let i=r.keys.find(l=>l.kid===n);if(i)return i;let s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===n),i&&this.jwks_cached_at+mw>s)return i;let{data:a,error:c}=yield x(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(l=>l.kid===n),!i)?null:i})}getClaims(o){return h(this,arguments,function*(n,r={}){try{let i=n;if(!i){let{data:v,error:m}=yield this.getSession();if(m||!v.session)return{data:null,error:m};i=v.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Gc(i);r?.allowExpired||Nw(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:v}=yield this.getUser(i);if(v)throw v;return{data:{claims:a,header:s,signature:c},error:null}}let p=Aw(s.alg),f=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,f,c,Iw(`${l}.${u}`))))throw new Xn("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(S(i))return{data:null,error:i};throw i}})}}return t.nextInstanceID=0,t})(),rh=hx;var px=rh,oh=px;var Xc=class extends oh{constructor(e){super(e)}};var el=class{constructor(e,n,r){var o,i,s;this.supabaseUrl=e,this.supabaseKey=n;let a=dw(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:sw,realtime:cw,auth:Object.assign(Object.assign({},aw),{storageKey:c}),global:iw},u=uw(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=lw(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new By(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Hi(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ni(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return h(this,null,function*(){var e,n;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:l},u,d){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xc({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Fi(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Kw=(t,e,n)=>new el(t,e,n);function gx(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gx()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Zw=["Preparando todo para tu atenci\xF3n...","Terminando de cargar registros...","Verificando datos de pacientes...","Dejando todo listo para comenzar..."],St=class t{_visible=it(!1);_messages=it(Zw);isVisible=$a(()=>this._visible());messages=$a(()=>this._messages());show(e){this._messages.set(e&&e.length?e:Zw),this._visible.set(!0)}hide(){this._visible.set(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var tl=class t{loader=y(St);ngOnInit(){document.title="La Cl\xEDnica Online - Inicio",setTimeout(()=>this.loader.hide(),2e3)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["app-bienvenida"]],decls:16,vars:0,consts:[[1,"bienvenida-page"],[1,"logo"],["src","logo_min.webp","alt","Logo de La Cl\xEDnica Online",1,"hero__logo"],[1,"title"],[1,"subtitle"],[1,"choices"],["routerLink","/acceso","aria-label","Ir a iniciar sesi\xF3n",1,"card"],["src","login_icon.webp","alt","Icono de iniciar sesi\xF3n"],["routerLink","/registro","aria-label","Ir a registrarse",1,"card"],["src","register_icon.webp","alt","Icono de crear cuenta"]],template:function(n,r){n&1&&(ke(0,"section",0)(1,"section",1),Qe(2,"img",2),ke(3,"h1",3),Te(4,"La Cl\xEDnica Online"),at(),ke(5,"p",4),Te(6," Tu portal de atenci\xF3n y turnos m\xE9dicos en l\xEDnea "),at()(),ke(7,"div",5)(8,"a",6),Qe(9,"img",7),ke(10,"span"),Te(11,"Iniciar sesi\xF3n"),at()(),ke(12,"a",8),Qe(13,"img",9),ke(14,"span"),Te(15,"Crear cuenta"),at()()()())},dependencies:[wc],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{margin-bottom:clamp(12px,2vw,24px);font-weight:700;letter-spacing:.2px;text-align:center}.choices[_ngcontent-%COMP%]{width:min(920px,100%);display:grid;grid-template-columns:repeat(2,1fr);gap:clamp(12px,3vw,32px);align-items:stretch}.card[_ngcontent-%COMP%]{--h: clamp(180px, 28vw, 260px);height:var(--h);border-radius:20px;background:#ffffff08;border:1px solid rgba(255,255,255,.526);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;text-decoration:none;color:inherit;transition:transform .15s ease,background .15s ease,border-color .15s ease}.card[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]:focus-visible{transform:translateY(-2px);background:#0e8a571f;border-color:#ffffffd0;cursor:pointer}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:60%;max-width:70%;object-fit:contain;filter:drop-shadow(0 0 6px rgba(14,138,87,.35))}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:clamp(14px,1.5vw,18px)}.logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;margin-bottom:clamp(12px,3vw,28px)}.hero__logo[_ngcontent-%COMP%]{width:clamp(72px,10vw,96px);height:auto;filter:drop-shadow(0 0 6px rgba(0,0,0,.25))}.subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--gray-700);text-align:center}.bienvenida-page[_ngcontent-%COMP%]{min-height:100vh;width:max-content;padding:0px clamp(1rem,4vw,3rem);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:clamp(1.5rem,4vw,2.5rem);background:linear-gradient(135deg,#0000008c,#00000040),url(/hospital_clinica.webp) center/cover no-repeat;color:#fff}"]})};var nl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["app-error404"]],decls:2,vars:0,template:function(n,r){n&1&&(ye(0,"p"),Te(1,"error404 works!"),Pe())},encapsulation:2})};var rl=class t{loader=y(St);ngOnInit(){document.title="La Cl\xEDnica Online - Acceso",setTimeout(()=>this.loader.hide(),1400)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["app-login"]],decls:2,vars:0,template:function(n,r){n&1&&(ye(0,"p"),Te(1,"login works!"),Pe())},encapsulation:2})};var ol=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["app-registro"]],decls:2,vars:0,template:function(n,r){n&1&&(ye(0,"p"),Te(1,"registro works!"),Pe())},encapsulation:2})};var Qw=[{path:"",pathMatch:"full",redirectTo:"inicio"},{path:"inicio",component:tl},{path:"acceso",component:rl},{path:"registro",component:ol},{path:"error404",component:nl},{path:"**",redirectTo:"error404"}];var Jw=()=>{};var Xw=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},mx=function(t){let e=[],n=0,r=0;for(;n<t.length;){let o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){let i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){let i=t[n++],s=t[n++],a=t[n++],c=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){let i=t[o],s=o+1<t.length,a=s?t[o+1]:0,c=o+2<t.length,l=c?t[o+2]:0,u=i>>2,d=(i&3)<<4|a>>4,p=(a&15)<<2|l>>6,f=l&63;c||(f=64,s||(p=64)),r.push(n[u],n[d],n[p],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){let i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;let l=o<t.length?n[t.charAt(o)]:64;++o;let d=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||l==null||d==null)throw new ih;let p=i<<2|a>>4;if(r.push(p),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ih=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vx=function(t){let e=Xw(t);return eb.encodeByteArray(e,!0)},sh=function(t){return vx(t).replace(/\./g,"")},tb=function(t){try{return eb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var wx=()=>yx().__FIREBASE_DEFAULTS__,bx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ex=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&tb(t[1]);return e&&JSON.parse(e)},_x=()=>{try{return Jw()||wx()||bx()||Ex()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var nb=()=>_x()?.config;var il=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function rb(){try{return typeof indexedDB=="object"}catch{return!1}}function ob(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}var Ix="FirebaseError",ar=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ix,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zi.prototype.create)}},Zi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?Sx(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new ar(o,a,r)}};function Sx(t,e){return t.replace(Cx,(n,r)=>{let o=e[r];return o!=null?String(o):`<${r}?>`})}var Cx=/\{\$([^}]+)}/g;function sl(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let o of n){if(!r.includes(o))return!1;let i=t[o],s=e[o];if(Yw(i)&&Yw(s)){if(!sl(i,s))return!1}else if(i!==s)return!1}for(let o of r)if(!n.includes(o))return!1;return!0}function Yw(t){return t!==null&&typeof t=="object"}var C8=14400*1e3;var lr=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var cr="[DEFAULT]";var ah=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new il;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dx(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(n);try{let i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return h(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[i,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);let i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Tx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Tx(t){return t===cr?void 0:t}function Dx(t){return t.instantiationMode==="EAGER"}var al=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ah(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var xx=[],J=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(J||{}),Mx={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Rx=J.INFO,Nx={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Ax=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),o=Nx[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},cl=class{constructor(e){this.name=e,this._logLevel=Rx,this._logHandler=Ax,this._userLogHandler=null,xx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}};var Ox=(t,e)=>e.some(n=>t instanceof n),ib,sb;function kx(){return ib||(ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Px(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ab=new WeakMap,lh=new WeakMap,cb=new WeakMap,ch=new WeakMap,dh=new WeakMap;function Lx(t){let e=new Promise((n,r)=>{let o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Ct(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ab.set(n,t)}).catch(()=>{}),dh.set(e,t),e}function jx(t){if(lh.has(t))return;let e=new Promise((n,r)=>{let o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});lh.set(t,e)}var uh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ct(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lb(t){uh=t(uh)}function Fx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ll(this),e,...n);return cb.set(r,e.sort?e.sort():[e]),Ct(r)}:Px().includes(t)?function(...e){return t.apply(ll(this),e),Ct(ab.get(this))}:function(...e){return Ct(t.apply(ll(this),e))}}function $x(t){return typeof t=="function"?Fx(t):(t instanceof IDBTransaction&&jx(t),Ox(t,kx())?new Proxy(t,uh):t)}function Ct(t){if(t instanceof IDBRequest)return Lx(t);if(ch.has(t))return ch.get(t);let e=$x(t);return e!==t&&(ch.set(t,e),dh.set(e,t)),e}var ll=t=>dh.get(t);function db(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){let s=indexedDB.open(t,e),a=Ct(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ct(s.result),c.oldVersion,c.newVersion,Ct(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),o&&c.addEventListener("versionchange",l=>o(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Ux=["get","getKey","getAll","getAllKeys","count"],Vx=["put","add","delete","clear"],fh=new Map;function ub(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fh.get(e))return fh.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,o=Vx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Ux.includes(n)))return;let i=function(s,...a){return h(this,null,function*(){let c=this.transaction(s,o?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),o&&c.done]))[0]})};return fh.set(e,i),i}lb(t=>q(E({},t),{get:(e,n,r)=>ub(e,n)||t.get(e,n,r),has:(e,n)=>!!ub(e,n)||t.has(e,n)}));var ph=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hx(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Hx(t){return t.getComponent()?.type==="VERSION"}var gh="@firebase/app",fb="0.14.4";var qt=new cl("@firebase/app"),Bx="@firebase/app-compat",zx="@firebase/analytics-compat",qx="@firebase/analytics",Wx="@firebase/app-check-compat",Gx="@firebase/app-check",Kx="@firebase/auth",Zx="@firebase/auth-compat",Qx="@firebase/database",Jx="@firebase/data-connect",Yx="@firebase/database-compat",Xx="@firebase/functions",e0="@firebase/functions-compat",t0="@firebase/installations",n0="@firebase/installations-compat",r0="@firebase/messaging",o0="@firebase/messaging-compat",i0="@firebase/performance",s0="@firebase/performance-compat",a0="@firebase/remote-config",c0="@firebase/remote-config-compat",l0="@firebase/storage",u0="@firebase/storage-compat",d0="@firebase/firestore",f0="@firebase/ai",h0="@firebase/firestore-compat",p0="firebase";var g0="[DEFAULT]",m0={[gh]:"fire-core",[Bx]:"fire-core-compat",[qx]:"fire-analytics",[zx]:"fire-analytics-compat",[Gx]:"fire-app-check",[Wx]:"fire-app-check-compat",[Kx]:"fire-auth",[Zx]:"fire-auth-compat",[Qx]:"fire-rtdb",[Jx]:"fire-data-connect",[Yx]:"fire-rtdb-compat",[Xx]:"fire-fn",[e0]:"fire-fn-compat",[t0]:"fire-iid",[n0]:"fire-iid-compat",[r0]:"fire-fcm",[o0]:"fire-fcm-compat",[i0]:"fire-perf",[s0]:"fire-perf-compat",[a0]:"fire-rc",[c0]:"fire-rc-compat",[l0]:"fire-gcs",[u0]:"fire-gcs-compat",[d0]:"fire-fst",[h0]:"fire-fst-compat",[f0]:"fire-vertex","fire-js":"fire-js",[p0]:"fire-js-all"};var mh=new Map,v0=new Map,vh=new Map;function hb(t,e){try{t.container.addComponent(e)}catch(n){qt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yh(t){let e=t.name;if(vh.has(e))return qt.debug(`There were multiple attempts to register component ${e}.`),!1;vh.set(e,t);for(let n of mh.values())hb(n,t);for(let n of v0.values())hb(n,t);return!0}var y0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Zi("app","Firebase",y0);var wh=class{constructor(e,n,r){this._isDeleted=!1,this._options=E({},e),this._config=E({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}};function vb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=E({name:g0,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(n||(n=nb()),!n)throw ur.create("no-options");let i=mh.get(o);if(i){if(sl(n,i.options)&&sl(r,i.config))return i;throw ur.create("duplicate-app",{appName:o})}let s=new al(o);for(let c of vh.values())s.addComponent(c);let a=new wh(n,r,s);return mh.set(o,a),a}function Qi(t,e,n){let r=m0[t]??t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),i=e.match(/\s|\//);if(o||i){let s=[`Unable to register library "${r}" with version "${e}":`];o&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&i&&s.push("and"),i&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qt.warn(s.join(" "));return}yh(new lr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var w0="firebase-heartbeat-database",b0=1,Ji="firebase-heartbeat-store",hh=null;function yb(){return hh||(hh=db(w0,b0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ji)}catch(n){console.warn(n)}}}}).catch(t=>{throw ur.create("idb-open",{originalErrorMessage:t.message})})),hh}function E0(t){return h(this,null,function*(){try{let n=(yield yb()).transaction(Ji),r=yield n.objectStore(Ji).get(wb(t));return yield n.done,r}catch(e){if(e instanceof ar)qt.warn(e.message);else{let n=ur.create("idb-get",{originalErrorMessage:e?.message});qt.warn(n.message)}}})}function pb(t,e){return h(this,null,function*(){try{let r=(yield yb()).transaction(Ji,"readwrite");yield r.objectStore(Ji).put(e,wb(t)),yield r.done}catch(n){if(n instanceof ar)qt.warn(n.message);else{let r=ur.create("idb-set",{originalErrorMessage:n?.message});qt.warn(r.message)}}})}function wb(t){return`${t.name}!${t.options.appId}`}var _0=1024,I0=30,bh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Eh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return h(this,null,function*(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>I0){let o=C0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qt.warn(e)}})}getHeartbeatsHeader(){return h(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=gb(),{heartbeatsToSend:n,unsentEntries:r}=S0(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qt.warn(e),""}})}};function gb(){return new Date().toISOString().substring(0,10)}function S0(t,e=_0){let n=[],r=t.slice();for(let o of t){let i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),mb(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),mb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Eh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return h(this,null,function*(){return rb()?ob().then(()=>!0).catch(()=>!1):!1})}read(){return h(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield E0(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return h(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return h(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function mb(t){return sh(JSON.stringify({version:2,heartbeats:t})).length}function C0(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function T0(t){yh(new lr("platform-logger",e=>new ph(e),"PRIVATE")),yh(new lr("heartbeat",e=>new bh(e),"PRIVATE")),Qi(gh,fb,t),Qi(gh,fb,"esm2020"),Qi("fire-js","")}T0("");var D0="firebase",x0="12.4.0";Qi(D0,x0,"app");var bb={apiKey:"AIzaSyD6WtUwS881suMTUPxxxTiQHPmFmcs3wjE",authDomain:"clinicatp-8a82e.firebaseapp.com",projectId:"clinicatp-8a82e",storageBucket:"clinicatp-8a82e.firebasestorage.app",messagingSenderId:"368483094980",appId:"1:368483094980:web:5c7956033dd843571f5491"},Eb="https://oulpgsltvlibsjrrinco.supabase.co",_b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im91bHBnc2x0dmxpYnNqcnJpbmNvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1NDE1NjAsImV4cCI6MjA3MjExNzU2MH0.WKdQV7Ayy1xAH6xn7eUYVbJFgCimk81aRXFkbP1g7b0";var Ib={providers:[Du(),Ad({eventCoalescing:!0}),bf(Qw)]},i4=Kw(Eb,_b),s4=vb(bb);function M0(t,e){if(t&1&&(ye(0,"div",0)(1,"div",1),Hn(2,"div",2),ye(3,"div",3),Hn(4,"img",4),ye(5,"div",5)(6,"p",6),Te(7,"La Cl\xEDnica Online"),Pe(),ye(8,"p",7),Te(9),Pe()()(),ye(10,"div",8)(11,"div",9),Hn(12,"div",10),Pe()(),ye(13,"div",11),Hn(14,"span")(15,"span")(16,"span"),Pe()()()),t&2){let n=Md();ld(9),Fa(" ",n.currentMessage," ")}}var ul=class t{loader=y(St);visible=this.loader.isVisible;messages=this.loader.messages;currentMessage="";intervalId=null;currentIndex=0;intervalMs=1800;ngOnInit(){let e=this.messages();this.currentIndex=0,this.currentMessage=e[this.currentIndex],this.intervalId=setInterval(()=>{let n=this.messages();n.length&&(this.currentIndex=(this.currentIndex+1)%n.length,this.currentMessage=n[this.currentIndex])},this.intervalMs)}ngOnDestroy(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["app-loader"]],decls:1,vars:1,consts:[["role","status","aria-live","polite",1,"loader-backdrop"],[1,"loader-card"],["aria-hidden","true",1,"loader-glow"],[1,"loader-header"],["src","/logo_min.webp","alt","Logo de La Cl\xEDnica Online",1,"loader-header__logo"],[1,"loader-header__text"],[1,"loader-title"],[1,"loader-subtitle"],["aria-hidden","true",1,"loader-center"],[1,"loader-ring"],[1,"loader-cross"],["aria-hidden","true",1,"loader-dots"]],template:function(n,r){n&1&&Td(0,M0,17,1,"div",0),n&2&&xd(r.visible()?0:-1)},styles:['.loader-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at top,color-mix(in srgb,var(--bright-blue) 20%,transparent),#0009);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);z-index:1000}.loader-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:1.25rem;padding:1.6rem 2rem 1.4rem;border-radius:1.75rem;min-width:min(360px,90vw);background:linear-gradient(145deg,#fffffffa,#fffffff0);border:1px solid color-mix(in srgb,var(--light-blue) 55%,transparent);box-shadow:0 22px 55px #00000059,0 0 0 1px #ffffffb3;overflow:hidden}.loader-glow[_ngcontent-%COMP%]{position:absolute;inset:-40%;background:radial-gradient(circle at top left,color-mix(in srgb,var(--mint-green) 55%,transparent),transparent 60%),radial-gradient(circle at bottom right,color-mix(in srgb,var(--bright-blue) 55%,transparent),transparent 70%);opacity:.35;z-index:-1}.loader-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.loader-header__logo[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:1rem;object-fit:contain;padding:.25rem .4rem;background:linear-gradient(135deg,color-mix(in srgb,var(--blue-green) 45%,#ffffff 55%),color-mix(in srgb,var(--mint-green) 60%,#ffffff 40%));box-shadow:0 0 0 1px #ffffffe6,0 10px 18px #00000040}.loader-header__text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.loader-title[_ngcontent-%COMP%]{font-weight:700;font-size:clamp(1.1rem,1.4vw,1.3rem);color:var(--blue-green);letter-spacing:.03em;text-shadow:0 1px 0 rgba(255,255,255,.8)}.loader-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:var(--gray-700);max-width:260px}.loader-center[_ngcontent-%COMP%]{display:flex;justify-content:center}.loader-ring[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:999px;border:3px solid color-mix(in srgb,var(--bright-blue) 70%,transparent);display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 30% 20%,color-mix(in srgb,var(--light-primary-color) 60%,#ffffff 40%),#fff);box-shadow:0 0 0 2px #fffc,0 12px 25px #00000040;animation:_ngcontent-%COMP%_loader-pulse 1.6s ease-in-out infinite}.loader-cross[_ngcontent-%COMP%]{position:relative;width:26px;height:26px}.loader-cross[_ngcontent-%COMP%]:before, .loader-cross[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:var(--primary-color);border-radius:999px}.loader-cross[_ngcontent-%COMP%]:before{width:8px;height:100%;left:50%;top:0;transform:translate(-50%)}.loader-cross[_ngcontent-%COMP%]:after{height:8px;width:100%;top:50%;left:0;transform:translateY(-50%)}.loader-dots[_ngcontent-%COMP%]{margin-top:.4rem;display:flex;justify-content:center;gap:.45rem}.loader-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:9px;height:9px;border-radius:50%;background:linear-gradient(135deg,var(--bright-blue),var(--mint-green));opacity:.35;animation:_ngcontent-%COMP%_loader-bounce .9s infinite alternate}.loader-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.15s}.loader-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}@keyframes _ngcontent-%COMP%_loader-pulse{0%{transform:scale(.94);box-shadow:0 0 #007af766,0 12px 25px #00000040}70%{transform:scale(1);box-shadow:0 0 0 12px #007af700,0 16px 32px #0000004d}to{transform:scale(.94);box-shadow:0 0 #007af700,0 12px 25px #00000040}}@keyframes _ngcontent-%COMP%_loader-bounce{0%{transform:translateY(0);opacity:.3}to{transform:translateY(-6px);opacity:1}}@media (prefers-reduced-motion: reduce){.loader-ring[_ngcontent-%COMP%], .loader-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{animation-duration:2s}}@media screen and (max-width: 480px){.loader-card[_ngcontent-%COMP%]{padding:1.4rem 1.25rem 1.3rem;min-width:min(300px,92vw)}.loader-header__logo[_ngcontent-%COMP%]{width:46px;height:46px}}']})};var dl=class t{router=y(Gn);loader=y(St);title=it("La Cl\xEDnica Online");constructor(){this.router.events.subscribe(e=>{e instanceof jt&&this.loader.show()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"main"],[1,"content"]],template:function(n,r){n&1&&(ke(0,"main",0),Qe(1,"app-loader")(2,"nav"),ke(3,"div",1),Qe(4,"router-outlet"),at(),Qe(5,"footer"),at())},dependencies:[Si,ul],styles:['h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--gray-900);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;flex-direction:column;justify-content:space-around;align-items:center;box-sizing:inherit;position:relative}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none;white-space:nowrap}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:100%}}.content--loading[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.2) opacity(.7)}']})};Zd(dl,Ib).catch(t=>console.error(t));
